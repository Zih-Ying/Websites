<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Sec 3 Association Rule | Recommender System</title>
  <meta name="description" content="Sec 3 Association Rule | Recommender System" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Sec 3 Association Rule | Recommender System" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Sec 3 Association Rule | Recommender System" />
  
  
  

<meta name="author" content="ZIH-YING, LI" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="self-learning.html"/>
<link rel="next" href="self-learning-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.30/datatables.js"></script>
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Recommender System</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="note.html"><a href="note.html"><i class="fa fa-check"></i>Note</a></li>
<li class="chapter" data-level="" data-path="problem.html"><a href="problem.html"><i class="fa fa-check"></i>Problem</a></li>
<li class="part"><span><b>I Conjoint Analysis</b></span></li>
<li class="chapter" data-level="1" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html"><i class="fa fa-check"></i><b>1</b> Conjoint Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html#example"><i class="fa fa-check"></i><b>1.1</b> Example</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html#preprocess"><i class="fa fa-check"></i><b>1.1.1</b> Preprocess</a></li>
<li class="chapter" data-level="1.1.2" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html#compute-part-worth"><i class="fa fa-check"></i><b>1.1.2</b> Compute part-worth</a></li>
<li class="chapter" data-level="1.1.3" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html#compute-relative-importance"><i class="fa fa-check"></i><b>1.1.3</b> Compute relative importance</a></li>
<li class="chapter" data-level="1.1.4" data-path="conjoint-analysis.html"><a href="conjoint-analysis.html#output"><i class="fa fa-check"></i><b>1.1.4</b> Output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="self-learning.html"><a href="self-learning.html"><i class="fa fa-check"></i><b>2</b> Self-learning</a>
<ul>
<li class="chapter" data-level="2.1" data-path="self-learning.html"><a href="self-learning.html#enter-new-ranking"><i class="fa fa-check"></i><b>2.1</b> Enter new ranking</a></li>
<li class="chapter" data-level="2.2" data-path="self-learning.html"><a href="self-learning.html#add-interaction"><i class="fa fa-check"></i><b>2.2</b> Add interaction</a></li>
<li class="chapter" data-level="2.3" data-path="self-learning.html"><a href="self-learning.html#rewrite-spine_chart.r"><i class="fa fa-check"></i><b>2.3</b> Rewrite spine_chart.R</a></li>
</ul></li>
<li class="part"><span><b>II Association Rule</b></span></li>
<li class="chapter" data-level="3" data-path="association-rule.html"><a href="association-rule.html"><i class="fa fa-check"></i><b>3</b> Association Rule</a>
<ul>
<li class="chapter" data-level="3.1" data-path="association-rule.html"><a href="association-rule.html#evaluation-metrics"><i class="fa fa-check"></i><b>3.1</b> Evaluation Metrics</a></li>
<li class="chapter" data-level="3.2" data-path="association-rule.html"><a href="association-rule.html#example-dvd"><i class="fa fa-check"></i><b>3.2</b> Example: DVD</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="association-rule.html"><a href="association-rule.html#prepare-data"><i class="fa fa-check"></i><b>3.2.1</b> Prepare data</a></li>
<li class="chapter" data-level="3.2.2" data-path="association-rule.html"><a href="association-rule.html#mining-rules"><i class="fa fa-check"></i><b>3.2.2</b> Mining rules</a></li>
<li class="chapter" data-level="3.2.3" data-path="association-rule.html"><a href="association-rule.html#by-apriori-get-rules"><i class="fa fa-check"></i><b>3.2.3</b> By Apriori get rules</a></li>
<li class="chapter" data-level="3.2.4" data-path="association-rule.html"><a href="association-rule.html#by-eclat-equivalence-class-clustering-and-bottom-up-lattice-traversal."><i class="fa fa-check"></i><b>3.2.4</b> By Eclat: Equivalence Class Clustering and bottom-up Lattice Traversal.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="association-rule.html"><a href="association-rule.html#example-income"><i class="fa fa-check"></i><b>3.3</b> Example: Income</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="association-rule.html"><a href="association-rule.html#IFP-ex"><i class="fa fa-check"></i><b>3.3.1</b> explore data</a></li>
<li class="chapter" data-level="3.3.2" data-path="association-rule.html"><a href="association-rule.html#get-rules-with-apriori"><i class="fa fa-check"></i><b>3.3.2</b> get rules with apriori</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="association-rule.html"><a href="association-rule.html#處理多餘規則-example-groceries"><i class="fa fa-check"></i><b>3.4</b> [處理多餘規則] Example: Groceries</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="association-rule.html"><a href="association-rule.html#基本處理"><i class="fa fa-check"></i><b>3.4.1</b> 基本處理</a></li>
<li class="chapter" data-level="3.4.2" data-path="association-rule.html"><a href="association-rule.html#處理冗贅的規則"><i class="fa fa-check"></i><b>3.4.2</b> 處理冗贅的規則</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="self-learning-1.html"><a href="self-learning-1.html"><i class="fa fa-check"></i><b>4</b> Self-learning</a>
<ul>
<li class="chapter" data-level="4.1" data-path="self-learning-1.html"><a href="self-learning-1.html#check-details-of-income-data-set"><i class="fa fa-check"></i><b>4.1</b> check details of <code>Income</code> data set</a></li>
<li class="chapter" data-level="4.2" data-path="self-learning-1.html"><a href="self-learning-1.html#compare-different-grouping-regroup-income-into-2-levels"><i class="fa fa-check"></i><b>4.2</b> [compare different grouping] regroup income into 2 levels</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="self-learning-1.html"><a href="self-learning-1.html#explore-data"><i class="fa fa-check"></i><b>4.2.1</b> explore data</a></li>
<li class="chapter" data-level="4.2.2" data-path="self-learning-1.html"><a href="self-learning-1.html#explore-rule"><i class="fa fa-check"></i><b>4.2.2</b> explore rule</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="self-learning-1.html"><a href="self-learning-1.html#compare-different-algorithm-mine-rule-of-adultuci-data-set"><i class="fa fa-check"></i><b>4.3</b> [compare different algorithm] mine rule of <code>AdultUCI</code> data set</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="self-learning-1.html"><a href="self-learning-1.html#details-of-data"><i class="fa fa-check"></i><b>4.3.1</b> details of data</a></li>
<li class="chapter" data-level="4.3.2" data-path="self-learning-1.html"><a href="self-learning-1.html#explore-data-1"><i class="fa fa-check"></i><b>4.3.2</b> explore data</a></li>
<li class="chapter" data-level="4.3.3" data-path="self-learning-1.html"><a href="self-learning-1.html#explore-rule-1"><i class="fa fa-check"></i><b>4.3.3</b> explore rule</a></li>
<li class="chapter" data-level="4.3.4" data-path="self-learning-1.html"><a href="self-learning-1.html#conclusion"><i class="fa fa-check"></i><b>4.3.4</b> conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="self-learning-1.html"><a href="self-learning-1.html#就診紀錄"><i class="fa fa-check"></i><b>4.4</b> 就診紀錄</a></li>
<li class="chapter" data-level="4.5" data-path="self-learning-1.html"><a href="self-learning-1.html#早餐店購買紀錄"><i class="fa fa-check"></i><b>4.5</b> 早餐店購買紀錄</a></li>
<li class="chapter" data-level="4.6" data-path="self-learning-1.html"><a href="self-learning-1.html#groceries-data"><i class="fa fa-check"></i><b>4.6</b> Groceries data</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="self-learning-1.html"><a href="self-learning-1.html#rightarrow-item"><i class="fa fa-check"></i><b>4.6.1</b> ??? <span class="math inline">\(\rightarrow\)</span> item</a></li>
<li class="chapter" data-level="4.6.2" data-path="self-learning-1.html"><a href="self-learning-1.html#item-rightarrow"><i class="fa fa-check"></i><b>4.6.2</b> item <span class="math inline">\(\rightarrow\)</span> ???</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Collaborative filtering</b></span></li>
<li class="chapter" data-level="5" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html"><i class="fa fa-check"></i><b>5</b> Collaborative filtering</a>
<ul>
<li class="chapter" data-level="5.1" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#methods-for-realratingmatrix-class"><i class="fa fa-check"></i><b>5.1</b> Methods for “realRatingMatrix” Class</a></li>
<li class="chapter" data-level="5.2" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#compare-the-storage-sizes"><i class="fa fa-check"></i><b>5.2</b> Compare the storage sizes</a></li>
<li class="chapter" data-level="5.3" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#computie-similarity-matrix"><i class="fa fa-check"></i><b>5.3</b> Computie Similarity Matrix</a></li>
<li class="chapter" data-level="5.4" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#recommender-model"><i class="fa fa-check"></i><b>5.4</b> Recommender Model</a></li>
<li class="chapter" data-level="5.5" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>5.5</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#rating"><i class="fa fa-check"></i><b>5.5.1</b> Rating</a></li>
<li class="chapter" data-level="5.5.2" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#movie-views"><i class="fa fa-check"></i><b>5.5.2</b> Movie views</a></li>
<li class="chapter" data-level="5.5.3" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#average-ratings"><i class="fa fa-check"></i><b>5.5.3</b> Average ratings</a></li>
<li class="chapter" data-level="5.5.4" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#rating-matrix"><i class="fa fa-check"></i><b>5.5.4</b> Rating Matrix</a></li>
<li class="chapter" data-level="5.5.5" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#normalize"><i class="fa fa-check"></i><b>5.5.5</b> Normalize</a></li>
<li class="chapter" data-level="5.5.6" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#binarization"><i class="fa fa-check"></i><b>5.5.6</b> Binarization</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#rating-example-movie"><i class="fa fa-check"></i><b>5.6</b> [Rating] Example: Movie</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#IBCF"><i class="fa fa-check"></i><b>5.6.1</b> [Rating] Item-based Collaborative Filtering</a></li>
<li class="chapter" data-level="5.6.2" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#UBCF"><i class="fa fa-check"></i><b>5.6.2</b> [Rating] User-based Collaborative Filtering</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#binary-example-movie"><i class="fa fa-check"></i><b>5.7</b> [Binary] Example: Movie</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#binary-item-based-collaborative-filtering"><i class="fa fa-check"></i><b>5.7.1</b> [Binary] Item-based Collaborative Filtering</a></li>
<li class="chapter" data-level="5.7.2" data-path="collaborative-filtering.html"><a href="collaborative-filtering.html#binary-user-based-collaborative-filtering"><i class="fa fa-check"></i><b>5.7.2</b> [Binary] User-based Collaborative Filtering</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="self-learning-2.html"><a href="self-learning-2.html"><i class="fa fa-check"></i><b>6</b> Self-learning</a>
<ul>
<li class="chapter" data-level="6.1" data-path="self-learning-2.html"><a href="self-learning-2.html#eda-movielens"><i class="fa fa-check"></i><b>6.1</b> [EDA] MovieLens</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="self-learning-2.html"><a href="self-learning-2.html#get-data"><i class="fa fa-check"></i><b>6.1.1</b> Get data</a></li>
<li class="chapter" data-level="6.1.2" data-path="self-learning-2.html"><a href="self-learning-2.html#eda"><i class="fa fa-check"></i><b>6.1.2</b> EDA</a></li>
<li class="chapter" data-level="6.1.3" data-path="self-learning-2.html"><a href="self-learning-2.html#adjust-plot-output"><i class="fa fa-check"></i><b>6.1.3</b> Adjust plot output</a></li>
<li class="chapter" data-level="6.1.4" data-path="self-learning-2.html"><a href="self-learning-2.html#average-ratings-1"><i class="fa fa-check"></i><b>6.1.4</b> Average Ratings</a></li>
<li class="chapter" data-level="6.1.5" data-path="self-learning-2.html"><a href="self-learning-2.html#rating-matrix-1"><i class="fa fa-check"></i><b>6.1.5</b> Rating Matrix</a></li>
<li class="chapter" data-level="6.1.6" data-path="self-learning-2.html"><a href="self-learning-2.html#normalize-1"><i class="fa fa-check"></i><b>6.1.6</b> Normalize</a></li>
<li class="chapter" data-level="6.1.7" data-path="self-learning-2.html"><a href="self-learning-2.html#binarization-1"><i class="fa fa-check"></i><b>6.1.7</b> Binarization</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="self-learning-2.html"><a href="self-learning-2.html#cf-movielens"><i class="fa fa-check"></i><b>6.2</b> [CF] MovieLens</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="self-learning-2.html"><a href="self-learning-2.html#problem1"><i class="fa fa-check"></i><b>6.2.1</b> Use <code>similarity()</code> to recheck Hand-on problem 1</a></li>
<li class="chapter" data-level="6.2.2" data-path="self-learning-2.html"><a href="self-learning-2.html#similarity-try-using-robust-statistic"><i class="fa fa-check"></i><b>6.2.2</b> Similarity: try using robust statistic</a></li>
<li class="chapter" data-level="6.2.3" data-path="self-learning-2.html"><a href="self-learning-2.html#why-the-following-code-get-different-results-between-hand-on-problem-2"><i class="fa fa-check"></i><b>6.2.3</b> Why the following code get different results between Hand-on problem 2</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Final Project</b></span></li>
<li class="chapter" data-level="7" data-path="final-project.html"><a href="final-project.html"><i class="fa fa-check"></i><b>7</b> Final Project</a></li>
<li class="divider"></li>
<li><a href="./">by ZIH-YING, LI</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Recommender System</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="association-rule" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Sec 3</span> Association Rule<a href="association-rule.html#association-rule" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><em>關聯規則(Association Rule)</em>的目標是找出大型資料集中<strong>經常共同出現的物件組合</strong>，以及這個<strong>組合中物件的關聯性</strong>。</p>
<p>所以關聯規則中要找的分別是:</p>
<ul>
<li><em>頻繁項集(Frequent Itemsets)</em>: 經常一起出現的物品集合</li>
<li><em>關聯規則(Association Rules)</em>: 表達物品之間可能存在強烈的關聯性</li>
</ul>
<p>在計算關聯規則中要定義兩個門檻來篩選得到的規則:</p>
<ul>
<li><em>最小支持度(min Support)</em>: 去除不常見的</li>
<li><em>最小信賴度(min Confidence)</em>: 去除正確率低的</li>
</ul>
<p>關聯規則中最基本的演算法分別有3個: <strong>Apriori</strong>, <strong>Eclat</strong> 和 <strong>FP-Growth</strong></p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">Apriori</th>
<th align="left">Eclat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>運算速度</td>
<td align="left">慢</td>
<td align="left">快</td>
</tr>
<tr class="even">
<td>搜尋</td>
<td align="left">廣度優先</td>
<td align="left">深度優先</td>
</tr>
</tbody>
</table>
<br>
<div class="header-cat">
<h2>
Some Note
</h2>
</div>
<p><br></p>
<h3>
apriori的進度顯示
</h3>
<ul>
<li>在不給參數的情況下使用<code>apriori</code>會顯示個步驟的運行時間，如果不想顯示它可以用下列方法
<ul>
<li>使用markdown的話可以在code chunk加入<code>results='hide'</code>來隱藏結果</li>
<li>或是在執行apriori時加入<code>control = list(verbose=F)</code>的參數</li>
</ul></li>
</ul>
<h3>
Display results for html format
</h3>
<h4>
Tables
</h4>
<ul>
<li>以表格呈現探勘出的規則
<ul>
<li><code>arules::inspect()</code>: 以程式碼結果呈現，適合呈現寬度較窄的結果，較難調整輸出。
只有這個可以用<code>linebreak</code>讓較長的規則容易比較
<ul>
<li><code>inspect(rule)</code></li>
</ul></li>
<li><code>arulse::DATAFRAME()</code>: 以表格呈現，適合只列出少數規則時使用，可以透過<code>format</code>調整輸出
<ul>
<li><code>DATAFRAME(rule) |&gt; format(digits=2) |&gt; knitr::kable()</code></li>
<li><code>DATAFRAME(rule, separate=F)</code>: LHS, RHS 放同一欄位</li>
</ul></li>
<li><code>arulesViz::inspectDT()</code>: 以DT table呈現，適合想列出全部的規則時使用，可以透過<code>DT::table</code>相關程式調整輸出，預設會把篩選器(filter)放在表頭下面表格內容上面(<code>filter='none'</code>沒辦法移出它)
<ul>
<li><code>inspectDT(rule) |&gt; DT::formatRound(columns='count', digits=0)</code></li>
</ul></li>
</ul></li>
</ul>
<h4>
Matrix
</h4>
<ul>
<li><code>pander::pander()</code>: pander套件可以用更好看的方式呈現矩陣，超出頁面範圍會自動截斷放到下面，因此也不適合大矩陣</li>
</ul>
<h4>
Plots
</h4>
<ul>
<li>探索資料
<ul>
<li><p><code>image()</code>: 以矩陣圖顯示，只適合呈現小資料</p></li>
<li><p><code>arules::itemFrequencyPlot()</code>: 以柱狀圖顯示交易物件中各項目的次數</p>
<ul>
<li>詳細見 <a href="association-rule.html#IFP-ex">Income 範例</a></li>
</ul></li>
</ul></li>
<li>探索關聯規則，詳細內容及範例結果見 <a href="association-rule.html#plot-ex">DVD 範例</a>
<ul>
<li><code>plot(rule, measure=c("x","y"), shading="col",control=list(jitter=6))</code>: 呈現每條規則的3種指標，預設繪圖引擎是<code>ggplot</code>，可以透過<code>ggplot2</code>套件中的函數調整結果
<ul>
<li><code>x, y, col</code>: support, confidence, lift, order(規則的順序)</li>
<li>透過<code>ggplot2</code>函數調整: e.g. <code>+ geom_point(size=3)</code></li>
</ul></li>
<li><code>plot(rule, method="grouped")</code>: 呈現LHS和RHS之間的lift和support
<ul>
<li>透過<code>control=list()</code>: e.g. <code>control=list(k=10)</code></li>
</ul></li>
<li><code>plot(rule, method="graph")</code>: 呈現節點之間的lift和support</li>
</ul></li>
</ul>
<hr />
<div id="evaluation-metrics" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Evaluation Metrics<a href="association-rule.html#evaluation-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<h3>
常用指標
</h3>
<ol style="list-style-type: decimal">
<li><p><strong><em>Support 支持度</em></strong>: 衡量關聯規則<strong>正確性</strong> <span class="math inline">\(\to\)</span> 具有一定普遍性
<span class="math display">\[
Support(X\to Y)=P(X\cap Y)=Support(Y\to X)\\
\color{red}{\text{不一定用機率，也可以是次數}}
\]</span></p></li>
<li><p><strong><em>Confidence 信賴度</em></strong>: 衡量關聯規則<strong>顯著性</strong></p></li>
</ol>
<ul>
<li>非因果關係，而是換個角度看</li>
<li><span class="math inline">\(P(Y|X)\approx P(X|Y)\Rightarrow\)</span> 互補品 <span class="math inline">\(\to\)</span> 無參考價值</li>
</ul>
<p><span class="math display">\[
Confidence(X\to Y)=P(Y|X)=\frac{P(X\cap Y)}{P(X)}=\frac{Support(X\to Y)}{P(X)}
\]</span></p>
<ol start="3" style="list-style-type: decimal">
<li><strong><em>Lift 增益度</em></strong>: 衡量關聯規則<strong>資訊價值</strong><br />
</li>
</ol>
<ul>
<li>縮小定義域後的有效性</li>
<li><span class="math inline">\(Lift&gt;1\to P(Y|X)&gt;P(Y)\to\)</span> 該關聯預測好 <span class="math inline">\(\to\)</span> 正相關</li>
<li><span class="math inline">\(Lift&lt;1\to P(Y|X)&lt;P(Y)\to\)</span> 該關聯預測差 <span class="math inline">\(\to\)</span> 負相關</li>
</ul>
<p><span class="math display">\[
Lift(X\to Y)=\frac{Confidence(X\to Y)}{P(Y)}=\frac{P(Y|X)}{P(Y)}=\frac{P(X\cap Y)}{P(X)\color{red}{P(Y)}}
\]</span></p>
<hr />
<h3>
其他指標
</h3>
<ul>
<li><em>Added value 附加價值</em></li>
</ul>
<p><span class="math display">\[
\begin{array}{ll}
AV(X\to Y)&amp;=\frac{supp(X\to Y)}{supp(X)}-supp(Y)\\&amp;=conf(X\to Y)-supp(Y)
\end{array}
\]</span></p>
<ul>
<li><em>Conviction 信念</em></li>
</ul>
<p><span class="math display">\[CV(X\to Y)=\frac{1-supp(Y)}{1-conf(X\to Y)}\]</span></p>
<ul>
<li><em>Leverage</em>: 跟lift相比，lift用的是比率，leverage用的是差(difference)
<ul>
<li><span class="math inline">\(Leverage=0\Rightarrow P(X\cap Y)=P(X)P(Y)\to\)</span> A, B獨立(independent)</li>
<li><span class="math inline">\(Leverage&gt;1\Rightarrow P(X\cap Y)&gt;P(X)P(Y)\to\)</span> 正相關，觀察支持度高於期望支持度</li>
<li><span class="math inline">\(Leverage&lt;1\Rightarrow P(X\cap Y)&lt;P(X)P(Y)\to\)</span> 負相關，X, Y不會同時出現</li>
</ul></li>
</ul>
<p><span class="math display">\[
\begin{array}{ll}
Leverage(X\to Y)&amp;=supp(X\to Y)-supp(X)\cdot supp(Y)\\
&amp;=P(X\cap Y)-P(X)P(Y)\\
Lift(X\to Y)&amp;=\frac{P(X\cap Y)}{P(X)P(Y)}
\end{array}
\]</span></p>
<hr />
</div>
<div id="example-dvd" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Example: DVD<a href="association-rule.html#example-dvd" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="prepare-data" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Prepare data<a href="association-rule.html#prepare-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="association-rule.html#cb33-1" tabindex="-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb33-2"><a href="association-rule.html#cb33-2" tabindex="-1"></a><span class="fu">library</span>(arulesViz)</span>
<span id="cb33-3"><a href="association-rule.html#cb33-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># for changing plot option</span></span>
<span id="cb33-4"><a href="association-rule.html#cb33-4" tabindex="-1"></a></span>
<span id="cb33-5"><a href="association-rule.html#cb33-5" tabindex="-1"></a>dat0<span class="ot">=</span><span class="fu">read.csv</span>(<span class="st">&quot;data/dvdtrans.csv&quot;</span>)</span>
<span id="cb33-6"><a href="association-rule.html#cb33-6" tabindex="-1"></a><span class="fu">str</span>(dat0)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    30 obs. of  2 variables:
##  $ ID  : int  1 1 1 1 1 2 2 2 3 3 ...
##  $ Item: chr  &quot;Sixth Sense&quot; &quot;LOTR1&quot; &quot;Harry Potter1&quot; &quot;Green Mile&quot; ...</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="association-rule.html#cb35-1" tabindex="-1"></a><span class="fu">factor</span>(dat0<span class="sc">$</span>Item) <span class="sc">|&gt;</span> <span class="fu">levels</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;Braveheart&quot;    &quot;Gladiator&quot;     &quot;Green Mile&quot;    &quot;Harry Potter1&quot;
##  [5] &quot;Harry Potter2&quot; &quot;LOTR&quot;          &quot;LOTR1&quot;         &quot;LOTR2&quot;        
##  [9] &quot;Patriot&quot;       &quot;Sixth Sense&quot;</code></pre>
<ul>
<li><code>split(x, f, ...)</code>
<ul>
<li><code>x</code>: 要被分組的東西</li>
<li><code>f</code>: 用甚麼分</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="association-rule.html#cb37-1" tabindex="-1"></a>dat<span class="ot">=</span><span class="fu">split</span>(<span class="fu">as.factor</span>(dat0[,<span class="st">&quot;Item&quot;</span>]),<span class="fu">as.factor</span>(dat0[,<span class="st">&quot;ID&quot;</span>]))</span>
<span id="cb37-2"><a href="association-rule.html#cb37-2" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">list</span>(dat[[<span class="dv">1</span>]], dat0[dat0<span class="sc">$</span>ID<span class="sc">==</span><span class="dv">1</span>,]))</span></code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sixth Sense</td>
</tr>
<tr class="even">
<td align="left">LOTR1</td>
</tr>
<tr class="odd">
<td align="left">Harry Potter1</td>
</tr>
<tr class="even">
<td align="left">Green Mile</td>
</tr>
<tr class="odd">
<td align="left">LOTR2</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="right">ID</th>
<th align="left">Item</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Sixth Sense</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">LOTR1</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Harry Potter1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">Green Mile</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">LOTR2</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<ul>
<li><code>itemMatrix</code> vs. <code>transactions</code>: 接用於表示關聯規則或交易資料，差別僅在於表示方式</li>
</ul>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="association-rule.html#cb38-1" tabindex="-1"></a>newdata<span class="ot">=</span><span class="fu">as</span>(dat, <span class="st">&quot;itemMatrix&quot;</span>)</span>
<span id="cb38-2"><a href="association-rule.html#cb38-2" tabindex="-1"></a>newdata1<span class="ot">=</span><span class="fu">as</span>(dat, <span class="st">&quot;transactions&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left"><code>itemMatrix</code></th>
<th align="left"><code>transactions</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>表示</td>
<td align="left">矩陣形式</td>
<td align="left">列表形式</td>
</tr>
<tr class="even">
<td>e.g.</td>
<td align="left"><img src="www/plt1.png" /></td>
<td align="left"><img src="www/plt2.png" /></td>
</tr>
<tr class="odd">
<td>物件大小</td>
<td align="left">5248</td>
<td align="left">5248</td>
</tr>
</tbody>
</table>
<hr />
<pre><code>image(x, xlab = &quot;Items (Columns)&quot;, ylab = &quot;Elements (Rows)&quot;, ...)</code></pre>
<ul>
<li>提供<code>image</code>方法給<code>itemMatrix</code>和<code>transactions</code>物件
<ul>
<li>x軸為項目</li>
<li>y軸為使用者</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="association-rule.html#cb40-1" tabindex="-1"></a><span class="fu">image</span>(newdata, <span class="at">main=</span><span class="st">&quot;10 transactions/customers&quot;</span>, <span class="at">xlab =</span> <span class="st">&#39;Item&#39;</span>, <span class="at">ylab =</span> <span class="st">&#39;ID&#39;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-23-1.png" width="1152" style="display: block; margin: auto;" /></p>
<hr />
<pre><code>itemFrequencyPlot(x, type = c(&quot;relative&quot;, &quot;absolute&quot;), 
                  support = NULL, topN = NULL, lift = FALSE,
                  horiz = FALSE, names = TRUE, 
                  cex.names = graphics::par(&quot;cex.axis&quot;), ...)</code></pre>
<ul>
<li><code>type</code>: 預設呈現的是相對次數</li>
<li><code>support</code>: 至少多少支持度才顯示</li>
<li><code>topN</code>: 只顯示<code>topN</code>個最高次數或是增益度(<code>lift=TRUE</code>)的項目</li>
<li><code>horiz</code>: 圖形轉置</li>
<li><code>names</code>, <code>cex.names</code>: bar標籤顯示與否、字體大小</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="association-rule.html#cb42-1" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(newdata) <span class="co"># relative freq.</span></span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-24-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="mining-rules" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Mining rules<a href="association-rule.html#mining-rules" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="by-apriori-get-rules" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> By Apriori get rules<a href="association-rule.html#by-apriori-get-rules" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>apriori(data, parameter = NULL, appearance = NULL, ...)</code>: Mine <strong>frequent itemsets</strong>, <strong>association rules</strong> or association hyperedges using the Apriori algorithm.
<ul>
<li><code>data</code>: transactions object</li>
<li><code>parameter</code>: named list or APparameter object
<ul>
<li>default</li>
<li>min support 0.1</li>
<li>min confidence 0.8</li>
<li>max length(maxlen) 10 items</li>
<li>max time(maxtime) for subset checking of 5 sec.</li>
</ul></li>
<li><code>appearance</code>: named list or APparameter object
<ul>
<li>default: all items can appear</li>
<li>set right hand side: <code>appearance = list(default="lhs", rhs=c("Survived=No", "Survived=Yes"))</code>
<ul>
<li><code>rhs</code>: 右手邊顯示的特徵</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="association-rule.html#cb43-1" tabindex="-1"></a>DVD<span class="ot">=</span><span class="fu">apriori</span>(newdata, <span class="at">parameter=</span><span class="fu">list</span>(<span class="at">support=</span><span class="fl">0.1</span>,<span class="at">confidence=</span><span class="fl">0.1</span>,<span class="at">maxlen=</span><span class="dv">5</span>))</span></code></pre></div>
<ul>
<li><code>inspect</code>: display rule</li>
<li><code>inspectDT</code>: display rule by <code>datatable</code> in <code>DT</code> package</li>
<li><code>DATAFRAME</code>: display rule by data.frame</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="association-rule.html#cb44-1" tabindex="-1"></a><span class="co"># summary(DVD)</span></span>
<span id="cb44-2"><a href="association-rule.html#cb44-2" tabindex="-1"></a><span class="fu">inspectDT</span>(DVD) <span class="sc">|&gt;</span> DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="at">columns=</span><span class="st">&#39;count&#39;</span>, <span class="at">digits=</span><span class="dv">0</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4669583f59941569f3cd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4669583f59941569f3cd">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{}&quot;,&quot;{Harry Potter2}&quot;,&quot;{Harry Potter1}&quot;,&quot;{Braveheart}&quot;,&quot;{Patriot}&quot;,&quot;{Gladiator}&quot;,&quot;{LOTR}&quot;,&quot;{Green Mile}&quot;,&quot;{Sixth Sense}&quot;,&quot;{LOTR1}&quot;,&quot;{LOTR2}&quot;,&quot;{Braveheart,Patriot}&quot;,&quot;{Braveheart,Gladiator}&quot;,&quot;{Gladiator,Patriot}&quot;,&quot;{Green Mile,LOTR}&quot;,&quot;{LOTR,Sixth Sense}&quot;,&quot;{Green Mile,Sixth Sense}&quot;,&quot;{Gladiator,LOTR}&quot;,&quot;{Gladiator,Green Mile}&quot;,&quot;{Gladiator,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1}&quot;,&quot;{Harry Potter1,LOTR2}&quot;,&quot;{LOTR1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1}&quot;,&quot;{Green Mile,LOTR1}&quot;,&quot;{Harry Potter1,Sixth Sense}&quot;,&quot;{LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,LOTR2}&quot;,&quot;{LOTR2,Sixth Sense}&quot;,&quot;{Patriot,Sixth Sense}&quot;,&quot;{Green Mile,LOTR,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile,LOTR}&quot;,&quot;{Gladiator,LOTR,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2}&quot;,&quot;{Green Mile,LOTR1,LOTR2}&quot;,&quot;{Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1,LOTR2,Sixth Sense}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{Harry Potter2}&quot;,&quot;{Braveheart}&quot;,&quot;{LOTR}&quot;,&quot;{Harry Potter1}&quot;,&quot;{LOTR1}&quot;,&quot;{LOTR2}&quot;,&quot;{Green Mile}&quot;,&quot;{Patriot}&quot;,&quot;{Sixth Sense}&quot;,&quot;{Gladiator}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.1\" data-max=\"0.7\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.1\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.1\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.714285714285714\" data-max=\"10\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"7\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]","[27]","[28]","[29]","[30]","[31]","[32]","[33]","[34]","[35]","[36]","[37]","[38]","[39]","[40]","[41]","[42]","[43]","[44]","[45]","[46]","[47]","[48]","[49]","[50]","[51]","[52]","[53]","[54]","[55]","[56]","[57]","[58]","[59]","[60]","[61]","[62]","[63]","[64]","[65]","[66]","[67]","[68]","[69]","[70]","[71]","[72]","[73]","[74]","[75]","[76]","[77]","[78]","[79]","[80]","[81]","[82]","[83]","[84]","[85]","[86]","[87]","[88]","[89]","[90]","[91]","[92]","[93]","[94]","[95]","[96]","[97]","[98]","[99]","[100]","[101]","[102]","[103]","[104]","[105]","[106]","[107]","[108]","[109]","[110]","[111]","[112]","[113]","[114]","[115]","[116]","[117]","[118]","[119]","[120]","[121]","[122]","[123]","[124]","[125]","[126]","[127]"],["{}","{}","{}","{}","{}","{}","{}","{}","{}","{}","{Harry Potter2}","{Harry Potter1}","{Braveheart}","{Patriot}","{Braveheart}","{Gladiator}","{LOTR}","{Green Mile}","{LOTR}","{Sixth Sense}","{LOTR}","{Gladiator}","{Harry Potter1}","{LOTR1}","{Harry Potter1}","{LOTR2}","{Harry Potter1}","{Green Mile}","{Harry Potter1}","{Sixth Sense}","{LOTR1}","{LOTR2}","{LOTR1}","{Green Mile}","{LOTR1}","{Sixth Sense}","{LOTR2}","{Green Mile}","{LOTR2}","{Sixth Sense}","{Green Mile}","{Sixth Sense}","{Green Mile}","{Gladiator}","{Patriot}","{Sixth Sense}","{Patriot}","{Gladiator}","{Sixth Sense}","{Gladiator}","{Braveheart,Patriot}","{Braveheart,Gladiator}","{Gladiator,Patriot}","{Green Mile,LOTR}","{LOTR,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,LOTR}","{Gladiator,LOTR}","{Gladiator,Green Mile}","{LOTR,Sixth Sense}","{Gladiator,LOTR}","{Gladiator,Sixth Sense}","{Harry Potter1,LOTR1}","{Harry Potter1,LOTR2}","{LOTR1,LOTR2}","{Harry Potter1,LOTR1}","{Green Mile,Harry Potter1}","{Green Mile,LOTR1}","{Harry Potter1,LOTR1}","{Harry Potter1,Sixth Sense}","{LOTR1,Sixth Sense}","{Harry Potter1,LOTR2}","{Green Mile,Harry Potter1}","{Green Mile,LOTR2}","{Harry Potter1,LOTR2}","{Harry Potter1,Sixth Sense}","{LOTR2,Sixth Sense}","{Green Mile,Harry Potter1}","{Harry Potter1,Sixth Sense}","{Green Mile,Sixth Sense}","{LOTR1,LOTR2}","{Green Mile,LOTR1}","{Green Mile,LOTR2}","{LOTR1,LOTR2}","{LOTR1,Sixth Sense}","{LOTR2,Sixth Sense}","{Green Mile,LOTR1}","{LOTR1,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,LOTR2}","{LOTR2,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,Sixth Sense}","{Gladiator,Green Mile}","{Gladiator,Sixth Sense}","{Patriot,Sixth Sense}","{Gladiator,Patriot}","{Gladiator,Sixth Sense}","{Green Mile,LOTR,Sixth Sense}","{Gladiator,Green Mile,LOTR}","{Gladiator,LOTR,Sixth Sense}","{Gladiator,Green Mile,Sixth Sense}","{Harry Potter1,LOTR1,LOTR2}","{Green Mile,Harry Potter1,LOTR1}","{Green Mile,Harry Potter1,LOTR2}","{Green Mile,LOTR1,LOTR2}","{Harry Potter1,LOTR1,LOTR2}","{Harry Potter1,LOTR1,Sixth Sense}","{Harry Potter1,LOTR2,Sixth Sense}","{LOTR1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1}","{Harry Potter1,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,Sixth Sense}","{Green Mile,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR2}","{Harry Potter1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,Sixth Sense}","{Green Mile,LOTR2,Sixth Sense}","{Green Mile,LOTR1,LOTR2}","{LOTR1,LOTR2,Sixth Sense}","{Green Mile,LOTR1,Sixth Sense}","{Green Mile,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1,LOTR2}","{Harry Potter1,LOTR1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR2,Sixth Sense}","{Green Mile,LOTR1,LOTR2,Sixth Sense}"],["{Harry Potter2}","{Braveheart}","{LOTR}","{Harry Potter1}","{LOTR1}","{LOTR2}","{Green Mile}","{Patriot}","{Sixth Sense}","{Gladiator}","{Harry Potter1}","{Harry Potter2}","{Patriot}","{Braveheart}","{Gladiator}","{Braveheart}","{Green Mile}","{LOTR}","{Sixth Sense}","{LOTR}","{Gladiator}","{LOTR}","{LOTR1}","{Harry Potter1}","{LOTR2}","{Harry Potter1}","{Green Mile}","{Harry Potter1}","{Sixth Sense}","{Harry Potter1}","{LOTR2}","{LOTR1}","{Green Mile}","{LOTR1}","{Sixth Sense}","{LOTR1}","{Green Mile}","{LOTR2}","{Sixth Sense}","{LOTR2}","{Sixth Sense}","{Green Mile}","{Gladiator}","{Green Mile}","{Sixth Sense}","{Patriot}","{Gladiator}","{Patriot}","{Gladiator}","{Sixth Sense}","{Gladiator}","{Patriot}","{Braveheart}","{Sixth Sense}","{Green Mile}","{LOTR}","{Gladiator}","{Green Mile}","{LOTR}","{Gladiator}","{Sixth Sense}","{LOTR}","{LOTR2}","{LOTR1}","{Harry Potter1}","{Green Mile}","{LOTR1}","{Harry Potter1}","{Sixth Sense}","{LOTR1}","{Harry Potter1}","{Green Mile}","{LOTR2}","{Harry Potter1}","{Sixth Sense}","{LOTR2}","{Harry Potter1}","{Sixth Sense}","{Green Mile}","{Harry Potter1}","{Green Mile}","{LOTR2}","{LOTR1}","{Sixth Sense}","{LOTR2}","{LOTR1}","{Sixth Sense}","{Green Mile}","{LOTR1}","{Sixth Sense}","{Green Mile}","{LOTR2}","{Gladiator}","{Sixth Sense}","{Green Mile}","{Gladiator}","{Sixth Sense}","{Patriot}","{Gladiator}","{Sixth Sense}","{Green Mile}","{LOTR}","{Green Mile}","{LOTR2}","{LOTR1}","{Harry Potter1}","{Sixth Sense}","{LOTR2}","{LOTR1}","{Harry Potter1}","{Sixth Sense}","{Green Mile}","{LOTR1}","{Harry Potter1}","{Sixth Sense}","{Green Mile}","{LOTR2}","{Harry Potter1}","{Sixth Sense}","{Green Mile}","{LOTR2}","{LOTR1}","{Sixth Sense}","{Green Mile}","{LOTR2}","{LOTR1}","{Harry Potter1}"],[0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.6,0.6,0.7,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.4,0.4,0.6,0.6,0.5,0.5,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.4,0.4,0.4,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],[0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.6,0.6,0.7,1,0.5,1,0.1666666666666667,1,0.1428571428571428,1,0.5,1,0.1666666666666667,1,0.1428571428571428,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.1666666666666667,1,1,0.5,0.5,0.5,0.1666666666666667,0.5,0.5,0.5,0.1666666666666667,1,0.3333333333333333,0.5,0.1428571428571428,0.6666666666666666,0.6666666666666666,1,0.8571428571428571,0.8333333333333334,0.7142857142857143,1,1,0.1666666666666667,1,1,0.5,1,1,1,1,1,0.2,1,1,0.5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0.5,0.5,1,1,0.5,1,1,1,1,0.5,1,1,0.5,0.5,1,0.2,1,0.6666666666666666,0.8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,0.1,0.2,0.1,0.6000000000000001,0.1,0.7000000000000001,0.1,0.2,0.1,0.6000000000000001,0.1,0.7000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.6000000000000001,0.2,0.6000000000000001,0.2,0.7000000000000001,0.6000000000000001,0.6000000000000001,0.6,0.7000000000000001,0.6,0.7,0.1,0.1,0.6000000000000001,0.1,0.1,0.2,0.1,0.1,0.1,0.1,0.1,0.5,0.1,0.1,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.2,0.1,0.1,0.1,0.1,0.2,0.1,0.1,0.2,0.2,0.1,0.5,0.4,0.6000000000000001,0.5,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],[1,1,1,1,1,1,1,1,1,1,5,5,1.666666666666667,1.666666666666667,1.428571428571429,1.428571428571428,5,5,1.666666666666667,1.666666666666667,1.428571428571429,1.428571428571428,2.5,2.5,2.5,2.5,2.5,2.5,0.8333333333333334,0.8333333333333333,5,5,2.5,2.5,0.8333333333333334,0.8333333333333333,2.5,2.5,0.8333333333333334,0.8333333333333333,1.666666666666667,1.666666666666667,0.7142857142857143,0.7142857142857142,1.111111111111111,1.111111111111111,1.428571428571429,1.428571428571429,1.19047619047619,1.19047619047619,1.428571428571429,1.666666666666667,1.666666666666667,1.666666666666667,5,5,1.428571428571429,5,10,1.428571428571429,1.666666666666667,2,5,5,2.5,5,5,5,1.666666666666667,5,5,5,5,5,1.666666666666667,5,5,1.666666666666667,5,2.5,2.5,5,5,0.8333333333333334,5,5,1.666666666666667,5,2.5,1.666666666666667,5,2.5,0.7142857142857143,1.666666666666667,1,1.428571428571429,1.111111111111111,1.333333333333333,1.428571428571429,1.666666666666667,5,10,5,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,5],[1,1,1,2,2,2,2,6,6,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,2,2,1,1,4,4,6,6,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>coverage<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render"],"jsHooks":[]}</script>
<ul>
<li><code>lhs</code>: left hand side</li>
<li><code>rhs</code>: right hand side</li>
<li><code>interestMeasure(x, measure, ...)</code>: Calculate Additional Interest Measures
<ul>
<li><code>x</code>: itemsets or rules</li>
<li><code>measure</code>: name or vector of names of the desired interest measures (see details)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="association-rule.html#cb45-1" tabindex="-1"></a>DVD<span class="sc">@</span>lhs<span class="sc">@</span>data<span class="sc">@</span>Dim[<span class="dv">2</span>] <span class="co"># number of rules</span></span></code></pre></div>
<pre><code>## [1] 127</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="association-rule.html#cb47-1" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">interestMeasure</span>(DVD, <span class="fu">c</span>(<span class="st">&quot;support&quot;</span>,<span class="st">&quot;confidence&quot;</span>, <span class="st">&quot;lift&quot;</span>)), <span class="at">selection =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d27d05b5e92f42ea86fb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d27d05b5e92f42ea86fb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127"],[0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.6,0.6,0.7,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.4,0.4,0.6,0.6,0.5,0.5,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.4,0.4,0.4,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],[0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.6,0.6,0.7,1,0.5,1,0.1666666666666667,1,0.1428571428571428,1,0.5,1,0.1666666666666667,1,0.1428571428571428,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.1666666666666667,1,1,0.5,0.5,0.5,0.1666666666666667,0.5,0.5,0.5,0.1666666666666667,1,0.3333333333333333,0.5,0.1428571428571428,0.6666666666666666,0.6666666666666666,1,0.8571428571428571,0.8333333333333334,0.7142857142857143,1,1,0.1666666666666667,1,1,0.5,1,1,1,1,1,0.2,1,1,0.5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0.5,0.5,1,1,0.5,1,1,1,1,0.5,1,1,0.5,0.5,1,0.2,1,0.6666666666666666,0.8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,5,5,1.666666666666667,1.666666666666667,1.428571428571429,1.428571428571428,5,5,1.666666666666667,1.666666666666667,1.428571428571429,1.428571428571428,2.5,2.5,2.5,2.5,2.5,2.5,0.8333333333333334,0.8333333333333333,5,5,2.5,2.5,0.8333333333333334,0.8333333333333333,2.5,2.5,0.8333333333333334,0.8333333333333333,1.666666666666667,1.666666666666667,0.7142857142857143,0.7142857142857142,1.111111111111111,1.111111111111111,1.428571428571429,1.428571428571429,1.19047619047619,1.19047619047619,1.428571428571429,1.666666666666667,1.666666666666667,1.666666666666667,5,5,1.428571428571429,5,10,1.428571428571429,1.666666666666667,2,5,5,2.5,5,5,5,1.666666666666667,5,5,5,5,5,1.666666666666667,5,5,1.666666666666667,5,2.5,2.5,5,5,0.8333333333333334,5,5,1.666666666666667,5,2.5,1.666666666666667,5,2.5,0.7142857142857143,1.666666666666667,1,1.428571428571429,1.111111111111111,1.333333333333333,1.428571428571429,1.666666666666667,5,10,5,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="plot-ex" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> plot results<a href="association-rule.html#plot-ex" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>remind:
<ul>
<li><span class="math inline">\(lift&gt;1\to\text{good after 縮小定義域}\)</span></li>
<li><span class="math inline">\(lift&lt;1\to\text{bad after 縮小定義域}\)</span></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="association-rule.html#cb48-1" tabindex="-1"></a><span class="fu">plot</span>(DVD, <span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;confidence&quot;</span>,<span class="st">&quot;lift&quot;</span>), <span class="at">shading=</span><span class="st">&quot;support&quot;</span>,<span class="at">control=</span><span class="fu">list</span>(<span class="at">jitter=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb48-2"><a href="association-rule.html#cb48-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-28-1.png" width="1152" style="display: block; margin: auto;" /></p>
<ul>
<li><code>order</code>: 規則的順序
<ul>
<li>order=1 <span class="math inline">\(\to\)</span> 10個 LHS為空，RHS分別為10個電影的規則</li>
<li>order=5 <span class="math inline">\(\to\)</span> 5個 LHS為4部電影的規則</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="association-rule.html#cb49-1" tabindex="-1"></a><span class="fu">plot</span>(DVD,<span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;confidence&quot;</span>,<span class="st">&quot;lift&quot;</span>),<span class="at">shading=</span><span class="st">&quot;order&quot;</span>,<span class="at">control=</span><span class="fu">list</span>(<span class="at">jitter=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb49-2"><a href="association-rule.html#cb49-2" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-29-1.png" width="1152" style="display: block; margin: auto;" /></p>
<ul>
<li><code>method = grouped</code>: 即<code>grouped matrix</code>，矩陣中的前因(列)使用分群(cluster)進行分組。
組別由組中最有趣的項目(’組中支持度’與’所有規則支持度’之比最高)表示。
控制參數包含
<ul>
<li><code>k</code>: 前因組的數量(預設20) <span class="math inline">\(\to\)</span> x軸</li>
<li><code>rhs_max</code>: RHS最大數量(預設10) <span class="math inline">\(\to\)</span> y軸</li>
<li><del><code>lhs_items</code>: LHS項目即顯示的數量(預設2) <span class="math inline">\(\to\)</span> 超過2個以 ‘<span class="math inline">\(+x\)</span> items’ 顯示</del> (好像沒有了 <code>## Warning: Unknown control parameters: lhs_items</code>)</li>
<li><code>aggr.fun</code>: 聚合函數可以是從向量計算標量的任何函數(例如，min、mean(預設)、median、sum、max)。
它也用於重新排列繪圖中的氣泡(bubble/ballon)。</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="association-rule.html#cb50-1" tabindex="-1"></a><span class="fu">plot</span>(DVD,<span class="at">method=</span><span class="st">&quot;grouped&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-30-1.png" width="1152" style="display: block; margin: auto;" /></p>
<ul>
<li><code>method = graph</code>: 項目表示為帶有標籤的節點，規則（或項集）則表示為與項目使用箭頭連接的節點
<ul>
<li>見<strong>3.2.1.3</strong>子集範例較清楚</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="association-rule.html#cb51-1" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">head</span>(<span class="fu">sort</span>(DVD,<span class="at">by=</span><span class="st">&quot;lift&quot;</span>),<span class="dv">100</span>),<span class="at">method=</span><span class="st">&quot;graph&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-31-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="check-only-rhs-is-patriot" class="section level4 hasAnchor" number="3.2.3.2">
<h4><span class="header-section-number">3.2.3.2</span> Check only RHS is “Patriot”<a href="association-rule.html#check-only-rhs-is-patriot" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>arules::subset(x, subset, ...)</code>: 用於對滿足某些條件的關聯(associations)或交易(transactions )(itemMatrix)子集進行操作(e.g. 包含特定項目或滿足最小增益度)
<ul>
<li><code>subset</code>: logical expression indicating elements to keep</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="association-rule.html#cb52-1" tabindex="-1"></a>DVDx <span class="ot">&lt;-</span> <span class="fu">subset</span>(DVD,<span class="at">subset=</span> rhs <span class="sc">%in%</span> <span class="st">&quot;Patriot&quot;</span> <span class="sc">&amp;</span> lift<span class="sc">&gt;</span><span class="dv">1</span>)</span>
<span id="cb52-2"><a href="association-rule.html#cb52-2" tabindex="-1"></a><span class="fu">DATAFRAME</span>(DVDx) <span class="sc">|&gt;</span> <span class="fu">format</span>(<span class="at">digits=</span><span class="dv">2</span>) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="3%" />
<col width="31%" />
<col width="13%" />
<col width="10%" />
<col width="14%" />
<col width="11%" />
<col width="6%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">LHS</th>
<th align="left">RHS</th>
<th align="left">support</th>
<th align="left">confidence</th>
<th align="left">coverage</th>
<th align="left">lift</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">13</td>
<td align="left">{Braveheart}</td>
<td align="left">{Patriot}</td>
<td align="left">0.1</td>
<td align="left">1.00</td>
<td align="left">0.1</td>
<td align="left">1.7</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">46</td>
<td align="left">{Sixth Sense}</td>
<td align="left">{Patriot}</td>
<td align="left">0.4</td>
<td align="left">0.67</td>
<td align="left">0.6</td>
<td align="left">1.1</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">48</td>
<td align="left">{Gladiator}</td>
<td align="left">{Patriot}</td>
<td align="left">0.6</td>
<td align="left">0.86</td>
<td align="left">0.7</td>
<td align="left">1.4</td>
<td align="left">6</td>
</tr>
<tr class="even">
<td align="left">52</td>
<td align="left">{Braveheart,Gladiator}</td>
<td align="left">{Patriot}</td>
<td align="left">0.1</td>
<td align="left">1.00</td>
<td align="left">0.1</td>
<td align="left">1.7</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">98</td>
<td align="left">{Gladiator,Sixth Sense}</td>
<td align="left">{Patriot}</td>
<td align="left">0.4</td>
<td align="left">0.80</td>
<td align="left">0.5</td>
<td align="left">1.3</td>
<td align="left">4</td>
</tr>
</tbody>
</table>
<ul>
<li>移除<code>control=list(type="items")</code>: 因為<code>## Warning: Unknown control parameters: type</code></li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="association-rule.html#cb53-1" tabindex="-1"></a><span class="co"># plot(sort(DVD,by=&quot;lift&quot;),method=&quot;graph&quot;,control=list(type=&quot;items&quot;))</span></span>
<span id="cb53-2"><a href="association-rule.html#cb53-2" tabindex="-1"></a></span>
<span id="cb53-3"><a href="association-rule.html#cb53-3" tabindex="-1"></a><span class="fu">plot</span>(DVDx,<span class="at">method=</span><span class="st">&quot;grouped&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-33-1.png" width="1152" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="association-rule.html#cb54-1" tabindex="-1"></a><span class="fu">plot</span>(DVDx,<span class="at">method=</span><span class="st">&quot;graph&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-33-2.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="by-eclat-equivalence-class-clustering-and-bottom-up-lattice-traversal." class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> By Eclat: Equivalence Class Clustering and bottom-up Lattice Traversal.<a href="association-rule.html#by-eclat-equivalence-class-clustering-and-bottom-up-lattice-traversal." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="get-itemset" class="section level4 hasAnchor" number="3.2.4.1">
<h4><span class="header-section-number">3.2.4.1</span> get itemset<a href="association-rule.html#get-itemset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>eclat(data, parameter = NULL, control = NULL, ...)</code>: Mine <strong>frequent itemsets</strong> with the Eclat algorithm.
<ul>
<li><code>data</code>: transactions object</li>
<li><code>parameter</code>: named list or ECparameter object
<ul>
<li>default</li>
<li>support 0.1</li>
<li>maxlen 5</li>
</ul></li>
<li><code>control</code>: named list or ECcontrol object</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="association-rule.html#cb55-1" tabindex="-1"></a>itemsets <span class="ot">&lt;-</span> <span class="fu">eclat</span>(newdata1, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.1</span>, <span class="at">maxlen=</span><span class="dv">5</span>))</span></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="association-rule.html#cb56-1" tabindex="-1"></a>itemsets</span></code></pre></div>
<pre><code>## set of 53 itemsets</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="association-rule.html#cb58-1" tabindex="-1"></a><span class="fu">inspectDT</span>(itemsets)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a6b8c20882723f495d5e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a6b8c20882723f495d5e">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{Harry Potter1,Harry Potter2}&quot;,&quot;{Braveheart,Gladiator,Patriot}&quot;,&quot;{Braveheart,Gladiator}&quot;,&quot;{Braveheart,Patriot}&quot;,&quot;{Gladiator,Green Mile,LOTR,Sixth Sense}&quot;,&quot;{Green Mile,LOTR,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile,LOTR}&quot;,&quot;{Gladiator,LOTR,Sixth Sense}&quot;,&quot;{LOTR,Sixth Sense}&quot;,&quot;{Gladiator,LOTR}&quot;,&quot;{Green Mile,LOTR}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{Green Mile,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1,LOTR2}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2}&quot;,&quot;{Green Mile,LOTR2,Sixth Sense}&quot;,&quot;{LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,LOTR2}&quot;,&quot;{Harry Potter1,LOTR2}&quot;,&quot;{LOTR1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1}&quot;,&quot;{Green Mile,LOTR1,Sixth Sense}&quot;,&quot;{LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1}&quot;,&quot;{Harry Potter1,LOTR1}&quot;,&quot;{Green Mile,Harry Potter1,Sixth Sense}&quot;,&quot;{Harry Potter1,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1}&quot;,&quot;{Gladiator,Green Mile,Sixth Sense}&quot;,&quot;{Green Mile,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile}&quot;,&quot;{Gladiator,Patriot,Sixth Sense}&quot;,&quot;{Patriot,Sixth Sense}&quot;,&quot;{Gladiator,Patriot}&quot;,&quot;{Gladiator,Sixth Sense}&quot;,&quot;{Sixth Sense}&quot;,&quot;{Gladiator}&quot;,&quot;{Patriot}&quot;,&quot;{Green Mile}&quot;,&quot;{Harry Potter1}&quot;,&quot;{LOTR1}&quot;,&quot;{LOTR2}&quot;,&quot;{LOTR}&quot;,&quot;{Braveheart}&quot;,&quot;{Harry Potter2}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.1\" data-max=\"0.7\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"7\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]","[27]","[28]","[29]","[30]","[31]","[32]","[33]","[34]","[35]","[36]","[37]","[38]","[39]","[40]","[41]","[42]","[43]","[44]","[45]","[46]","[47]","[48]","[49]","[50]","[51]","[52]","[53]"],["{Harry Potter1,Harry Potter2}","{Braveheart,Gladiator,Patriot}","{Braveheart,Gladiator}","{Braveheart,Patriot}","{Gladiator,Green Mile,LOTR,Sixth Sense}","{Green Mile,LOTR,Sixth Sense}","{Gladiator,Green Mile,LOTR}","{Gladiator,LOTR,Sixth Sense}","{LOTR,Sixth Sense}","{Gladiator,LOTR}","{Green Mile,LOTR}","{Green Mile,Harry Potter1,LOTR1,LOTR2,Sixth Sense}","{Harry Potter1,LOTR1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1,LOTR2}","{Green Mile,LOTR1,LOTR2,Sixth Sense}","{LOTR1,LOTR2,Sixth Sense}","{Green Mile,LOTR1,LOTR2}","{Harry Potter1,LOTR1,LOTR2}","{Green Mile,Harry Potter1,LOTR2,Sixth Sense}","{Harry Potter1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR2}","{Green Mile,LOTR2,Sixth Sense}","{LOTR2,Sixth Sense}","{Green Mile,LOTR2}","{Harry Potter1,LOTR2}","{LOTR1,LOTR2}","{Green Mile,Harry Potter1,LOTR1,Sixth Sense}","{Harry Potter1,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1}","{Green Mile,LOTR1,Sixth Sense}","{LOTR1,Sixth Sense}","{Green Mile,LOTR1}","{Harry Potter1,LOTR1}","{Green Mile,Harry Potter1,Sixth Sense}","{Harry Potter1,Sixth Sense}","{Green Mile,Harry Potter1}","{Gladiator,Green Mile,Sixth Sense}","{Green Mile,Sixth Sense}","{Gladiator,Green Mile}","{Gladiator,Patriot,Sixth Sense}","{Patriot,Sixth Sense}","{Gladiator,Patriot}","{Gladiator,Sixth Sense}","{Sixth Sense}","{Gladiator}","{Patriot}","{Green Mile}","{Harry Potter1}","{LOTR1}","{LOTR2}","{LOTR}","{Braveheart}","{Harry Potter2}"],[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.1,0.4,0.4,0.6,0.5,0.6,0.7,0.6,0.2,0.2,0.2,0.2,0.1,0.1,0.1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,4,4,6,5,6,7,6,2,2,2,2,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>items<\/th>\n      <th>support<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
<ul>
<li><code>supportingTransactions(x, transactions)</code>: 查找關聯(associations)物件中每個項目集(itemset)支持(support)的對象，回傳tidLists物件
<ul>
<li><code>x</code>: a set of associations (itemsets, rules, etc.)</li>
<li><code>transactions</code>: an object of class transactions used to mine the associations in <code>x</code>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="association-rule.html#cb59-1" tabindex="-1"></a><span class="fu">supportingTransactions</span>(itemsets, newdata1)</span></code></pre></div>
<pre><code>## tidLists in sparse format with
##  53 items/itemsets (rows) and
##  10 transactions (columns)</code></pre>
<ul>
<li>e.g. 第一筆表示<code>{Harry Potter1}</code>子集有出現在第1和7筆交易中</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="association-rule.html#cb61-1" tabindex="-1"></a><span class="fu">as</span>(<span class="fu">supportingTransactions</span>(itemsets, newdata1), <span class="st">&#39;list&#39;</span>)[<span class="fu">c</span>(<span class="dv">48</span><span class="sc">:</span><span class="dv">50</span>)]</span></code></pre></div>
<pre><code>## $`{Harry Potter1}`
## [1] &quot;1&quot; &quot;7&quot;
## 
## $`{LOTR1}`
## [1] &quot;1&quot; &quot;3&quot;
## 
## $`{LOTR2}`
## [1] &quot;1&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="association-rule.html#cb63-1" tabindex="-1"></a><span class="fu">inspect</span>(newdata1, <span class="at">linebreak=</span>F)</span></code></pre></div>
<pre><code>##      items                                                  transactionID
## [1]  {Green Mile, Harry Potter1, LOTR1, LOTR2, Sixth Sense} 1            
## [2]  {Braveheart, Gladiator, Patriot}                       2            
## [3]  {LOTR1, LOTR2}                                         3            
## [4]  {Gladiator, Patriot, Sixth Sense}                      4            
## [5]  {Gladiator, Patriot, Sixth Sense}                      5            
## [6]  {Gladiator, Patriot, Sixth Sense}                      6            
## [7]  {Harry Potter1, Harry Potter2}                         7            
## [8]  {Gladiator, Patriot}                                   8            
## [9]  {Gladiator, Patriot, Sixth Sense}                      9            
## [10] {Gladiator, Green Mile, LOTR, Sixth Sense}             10</code></pre>
</div>
<div id="get-rules-from-itemset" class="section level4 hasAnchor" number="3.2.4.2">
<h4><span class="header-section-number">3.2.4.2</span> get rules from itemset<a href="association-rule.html#get-rules-from-itemset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>ruleInduction(x, transactions = NULL, confidence = 0.8, method = c("ptree", "apriori"),...)</code>:
<ul>
<li><code>x</code>: the set of itemsets from which rules will be induced.</li>
<li><code>transactions</code>: the transactions used to mine the itemsets. <em>Can be omitted for method “ptree”, if x contains</em> a (complete set) of <em>frequent itemsets together with their support counts</em>.</li>
<li><code>confidence</code>: minimum confidence threshold for the rules.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="association-rule.html#cb65-1" tabindex="-1"></a><span class="do">## Create rules from the frequent itemsets</span></span>
<span id="cb65-2"><a href="association-rule.html#cb65-2" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">ruleInduction</span>(itemsets, <span class="at">confidence =</span> .<span class="dv">1</span>)</span>
<span id="cb65-3"><a href="association-rule.html#cb65-3" tabindex="-1"></a>rules</span></code></pre></div>
<pre><code>## set of 117 rules</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="association-rule.html#cb67-1" tabindex="-1"></a><span class="fu">inspectDT</span>(rules)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e2def3a0360a1cbda47a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e2def3a0360a1cbda47a">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{Harry Potter2}&quot;,&quot;{Harry Potter1}&quot;,&quot;{Gladiator,Patriot}&quot;,&quot;{Braveheart,Patriot}&quot;,&quot;{Braveheart,Gladiator}&quot;,&quot;{Gladiator}&quot;,&quot;{Braveheart}&quot;,&quot;{Patriot}&quot;,&quot;{Green Mile,LOTR,Sixth Sense}&quot;,&quot;{Gladiator,LOTR,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile,Sixth Sense}&quot;,&quot;{Gladiator,Green Mile,LOTR}&quot;,&quot;{LOTR,Sixth Sense}&quot;,&quot;{Green Mile,Sixth Sense}&quot;,&quot;{Green Mile,LOTR}&quot;,&quot;{Gladiator,LOTR}&quot;,&quot;{Gladiator,Green Mile}&quot;,&quot;{Gladiator,Sixth Sense}&quot;,&quot;{Sixth Sense}&quot;,&quot;{LOTR}&quot;,&quot;{Green Mile}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{LOTR1,LOTR2,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR2,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1,Sixth Sense}&quot;,&quot;{Harry Potter1,LOTR1,LOTR2}&quot;,&quot;{Green Mile,LOTR1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1,LOTR2}&quot;,&quot;{Green Mile,Harry Potter1,LOTR1}&quot;,&quot;{Green Mile,LOTR2,Sixth Sense}&quot;,&quot;{Green Mile,LOTR1,Sixth Sense}&quot;,&quot;{LOTR2,Sixth Sense}&quot;,&quot;{LOTR1,Sixth Sense}&quot;,&quot;{LOTR1,LOTR2}&quot;,&quot;{Green Mile,LOTR2}&quot;,&quot;{Green Mile,LOTR1}&quot;,&quot;{Harry Potter1,LOTR2}&quot;,&quot;{Harry Potter1,LOTR1}&quot;,&quot;{Green Mile,Harry Potter1,Sixth Sense}&quot;,&quot;{Harry Potter1,Sixth Sense}&quot;,&quot;{Green Mile,Harry Potter1}&quot;,&quot;{LOTR2}&quot;,&quot;{LOTR1}&quot;,&quot;{Patriot,Sixth Sense}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{Harry Potter1}&quot;,&quot;{Harry Potter2}&quot;,&quot;{Braveheart}&quot;,&quot;{Gladiator}&quot;,&quot;{Patriot}&quot;,&quot;{Green Mile}&quot;,&quot;{LOTR}&quot;,&quot;{Sixth Sense}&quot;,&quot;{LOTR1}&quot;,&quot;{LOTR2}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.1\" data-max=\"0.6\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.142857142857142\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.714285714285714\" data-max=\"10\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]","[27]","[28]","[29]","[30]","[31]","[32]","[33]","[34]","[35]","[36]","[37]","[38]","[39]","[40]","[41]","[42]","[43]","[44]","[45]","[46]","[47]","[48]","[49]","[50]","[51]","[52]","[53]","[54]","[55]","[56]","[57]","[58]","[59]","[60]","[61]","[62]","[63]","[64]","[65]","[66]","[67]","[68]","[69]","[70]","[71]","[72]","[73]","[74]","[75]","[76]","[77]","[78]","[79]","[80]","[81]","[82]","[83]","[84]","[85]","[86]","[87]","[88]","[89]","[90]","[91]","[92]","[93]","[94]","[95]","[96]","[97]","[98]","[99]","[100]","[101]","[102]","[103]","[104]","[105]","[106]","[107]","[108]","[109]","[110]","[111]","[112]","[113]","[114]","[115]","[116]","[117]"],["{Harry Potter2}","{Harry Potter1}","{Gladiator,Patriot}","{Braveheart,Patriot}","{Braveheart,Gladiator}","{Gladiator}","{Braveheart}","{Patriot}","{Braveheart}","{Green Mile,LOTR,Sixth Sense}","{Gladiator,LOTR,Sixth Sense}","{Gladiator,Green Mile,Sixth Sense}","{Gladiator,Green Mile,LOTR}","{LOTR,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,LOTR}","{Green Mile,LOTR}","{Gladiator,LOTR}","{Gladiator,Green Mile}","{LOTR,Sixth Sense}","{Gladiator,Sixth Sense}","{Gladiator,LOTR}","{Sixth Sense}","{LOTR}","{LOTR}","{Gladiator}","{LOTR}","{Green Mile}","{Harry Potter1,LOTR1,LOTR2,Sixth Sense}","{Green Mile,LOTR1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1,LOTR2}","{LOTR1,LOTR2,Sixth Sense}","{Harry Potter1,LOTR2,Sixth Sense}","{Harry Potter1,LOTR1,Sixth Sense}","{Harry Potter1,LOTR1,LOTR2}","{Harry Potter1,LOTR1,LOTR2}","{Green Mile,LOTR1,LOTR2}","{Green Mile,Harry Potter1,LOTR2}","{Green Mile,Harry Potter1,LOTR1}","{LOTR1,LOTR2,Sixth Sense}","{Green Mile,LOTR2,Sixth Sense}","{Green Mile,LOTR1,Sixth Sense}","{Green Mile,LOTR1,LOTR2}","{LOTR2,Sixth Sense}","{LOTR1,Sixth Sense}","{LOTR1,LOTR2}","{LOTR1,LOTR2}","{Green Mile,LOTR2}","{Green Mile,LOTR1}","{LOTR1,LOTR2}","{Harry Potter1,LOTR2}","{Harry Potter1,LOTR1}","{Harry Potter1,LOTR2,Sixth Sense}","{Green Mile,LOTR2,Sixth Sense}","{Green Mile,Harry Potter1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR2}","{LOTR2,Sixth Sense}","{Harry Potter1,Sixth Sense}","{Harry Potter1,LOTR2}","{Harry Potter1,LOTR2}","{Green Mile,LOTR2}","{Green Mile,Harry Potter1}","{LOTR2,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,LOTR2}","{Sixth Sense}","{LOTR2}","{LOTR2}","{Green Mile}","{LOTR2}","{Harry Potter1}","{LOTR2}","{LOTR1}","{Harry Potter1,LOTR1,Sixth Sense}","{Green Mile,LOTR1,Sixth Sense}","{Green Mile,Harry Potter1,Sixth Sense}","{Green Mile,Harry Potter1,LOTR1}","{LOTR1,Sixth Sense}","{Harry Potter1,Sixth Sense}","{Harry Potter1,LOTR1}","{Harry Potter1,LOTR1}","{Green Mile,LOTR1}","{Green Mile,Harry Potter1}","{LOTR1,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,LOTR1}","{Sixth Sense}","{LOTR1}","{LOTR1}","{Green Mile}","{LOTR1}","{Harry Potter1}","{Harry Potter1,Sixth Sense}","{Green Mile,Sixth Sense}","{Green Mile,Harry Potter1}","{Sixth Sense}","{Harry Potter1}","{Harry Potter1}","{Green Mile}","{Green Mile,Sixth Sense}","{Gladiator,Sixth Sense}","{Gladiator,Green Mile}","{Sixth Sense}","{Green Mile}","{Green Mile}","{Gladiator}","{Patriot,Sixth Sense}","{Gladiator,Sixth Sense}","{Gladiator,Patriot}","{Sixth Sense}","{Patriot}","{Patriot}","{Gladiator}","{Sixth Sense}","{Gladiator}"],["{Harry Potter1}","{Harry Potter2}","{Braveheart}","{Gladiator}","{Patriot}","{Braveheart}","{Gladiator}","{Braveheart}","{Patriot}","{Gladiator}","{Green Mile}","{LOTR}","{Sixth Sense}","{Green Mile}","{LOTR}","{Sixth Sense}","{Gladiator}","{Green Mile}","{LOTR}","{Gladiator}","{LOTR}","{Sixth Sense}","{LOTR}","{Sixth Sense}","{Gladiator}","{LOTR}","{Green Mile}","{LOTR}","{Green Mile}","{Harry Potter1}","{LOTR1}","{LOTR2}","{Sixth Sense}","{Harry Potter1}","{LOTR1}","{LOTR2}","{Sixth Sense}","{Green Mile}","{Harry Potter1}","{LOTR1}","{LOTR2}","{Green Mile}","{LOTR1}","{LOTR2}","{Sixth Sense}","{LOTR1}","{LOTR2}","{Sixth Sense}","{Green Mile}","{LOTR1}","{LOTR2}","{Harry Potter1}","{LOTR1}","{LOTR2}","{Green Mile}","{Harry Potter1}","{LOTR2}","{Sixth Sense}","{Harry Potter1}","{LOTR2}","{Sixth Sense}","{Green Mile}","{Harry Potter1}","{LOTR2}","{Green Mile}","{LOTR2}","{Sixth Sense}","{LOTR2}","{Sixth Sense}","{Green Mile}","{LOTR2}","{Harry Potter1}","{LOTR2}","{LOTR1}","{LOTR2}","{Green Mile}","{Harry Potter1}","{LOTR1}","{Sixth Sense}","{Harry Potter1}","{LOTR1}","{Sixth Sense}","{Green Mile}","{Harry Potter1}","{LOTR1}","{Green Mile}","{LOTR1}","{Sixth Sense}","{LOTR1}","{Sixth Sense}","{Green Mile}","{LOTR1}","{Harry Potter1}","{LOTR1}","{Green Mile}","{Harry Potter1}","{Sixth Sense}","{Harry Potter1}","{Sixth Sense}","{Green Mile}","{Harry Potter1}","{Gladiator}","{Green Mile}","{Sixth Sense}","{Green Mile}","{Sixth Sense}","{Gladiator}","{Green Mile}","{Gladiator}","{Patriot}","{Sixth Sense}","{Patriot}","{Sixth Sense}","{Gladiator}","{Patriot}","{Gladiator}","{Sixth Sense}"],[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.1,0.1,0.4,0.4,0.4,0.4,0.4,0.6,0.6,0.5,0.5],[1,0.5,0.1666666666666667,1,1,0.1428571428571429,1,0.1666666666666667,1,1,1,1,1,1,0.5,1,1,1,1,1,0.2,1,0.1666666666666667,1,1,0.1428571428571429,1,0.5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0.5,0.5,1,1,0.5,1,1,1,1,1,1,1,1,1,1,1,1,1,0.5,1,0.1666666666666667,0.5,0.5,0.5,0.5,0.5,1,1,1,1,1,1,1,1,1,1,1,1,1,0.5,1,0.1666666666666667,0.5,0.5,0.5,0.5,0.5,1,0.5,1,0.1666666666666667,0.5,0.5,0.5,0.5,0.2,1,0.3333333333333334,1,0.5,0.1428571428571429,1,0.8,0.6666666666666667,0.6666666666666667,0.6666666666666667,1,0.8571428571428572,0.8333333333333334,0.7142857142857143],[5,5,1.666666666666667,1.428571428571429,1.666666666666667,1.428571428571429,1.428571428571429,1.666666666666667,1.666666666666667,1.428571428571429,5,10,1.666666666666667,5,5,1.666666666666667,1.428571428571429,5,10,1.428571428571429,2,1.666666666666667,1.666666666666667,1.666666666666667,1.428571428571429,1.428571428571429,5,5,5,5,5,5,1.666666666666667,5,5,5,1.666666666666667,5,5,5,5,5,5,5,1.666666666666667,5,5,0.8333333333333334,2.5,5,5,2.5,5,5,5,5,5,1.666666666666667,5,5,1.666666666666667,5,5,5,5,2.5,1.666666666666667,0.8333333333333334,0.8333333333333334,2.5,2.5,2.5,2.5,5,5,5,5,5,1.666666666666667,5,5,1.666666666666667,5,5,5,5,2.5,1.666666666666667,0.8333333333333334,0.8333333333333334,2.5,2.5,2.5,2.5,5,2.5,1.666666666666667,0.8333333333333334,0.8333333333333334,2.5,2.5,0.7142857142857143,1,1.666666666666667,1.666666666666667,1.666666666666667,0.7142857142857143,0.7142857142857143,1.428571428571429,1.333333333333333,1.111111111111111,1.111111111111111,1.111111111111111,1.428571428571429,1.428571428571429,1.190476190476191,1.19047619047619]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
</div>
<div id="get-frequent-itemsets-with-eclat" class="section level4 hasAnchor" number="3.2.4.3">
<h4><span class="header-section-number">3.2.4.3</span> get frequent itemsets with Eclat<a href="association-rule.html#get-frequent-itemsets-with-eclat" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="association-rule.html#cb68-1" tabindex="-1"></a><span class="do">## Mine frequent itemsets with Eclat.</span></span>
<span id="cb68-2"><a href="association-rule.html#cb68-2" tabindex="-1"></a>fsets <span class="ot">&lt;-</span> <span class="fu">eclat</span>(newdata1, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="association-rule.html#cb69-1" tabindex="-1"></a>fsets.top5 <span class="ot">&lt;-</span> <span class="fu">sort</span>(fsets)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb69-2"><a href="association-rule.html#cb69-2" tabindex="-1"></a><span class="fu">inspect</span>(fsets.top5)</span></code></pre></div>
<pre><code>##     items                    support count
## [1] {Gladiator}              0.7     7    
## [2] {Gladiator, Patriot}     0.6     6    
## [3] {Sixth Sense}            0.6     6    
## [4] {Patriot}                0.6     6    
## [5] {Gladiator, Sixth Sense} 0.5     5</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="association-rule.html#cb71-1" tabindex="-1"></a><span class="fu">as</span>(<span class="fu">items</span>(fsets.top5), <span class="st">&quot;list&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Gladiator&quot;
## 
## [[2]]
## [1] &quot;Gladiator&quot; &quot;Patriot&quot;  
## 
## [[3]]
## [1] &quot;Sixth Sense&quot;
## 
## [[4]]
## [1] &quot;Patriot&quot;
## 
## [[5]]
## [1] &quot;Gladiator&quot;   &quot;Sixth Sense&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="association-rule.html#cb73-1" tabindex="-1"></a><span class="fu">as</span>(<span class="fu">items</span>(fsets.top5), <span class="st">&quot;matrix&quot;</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">row.names =</span> T)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="2%" />
<col width="10%" />
<col width="9%" />
<col width="10%" />
<col width="13%" />
<col width="13%" />
<col width="5%" />
<col width="5%" />
<col width="5%" />
<col width="7%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">Braveheart</th>
<th align="left">Gladiator</th>
<th align="left">Green Mile</th>
<th align="left">Harry Potter1</th>
<th align="left">Harry Potter2</th>
<th align="left">LOTR</th>
<th align="left">LOTR1</th>
<th align="left">LOTR2</th>
<th align="left">Patriot</th>
<th align="left">Sixth Sense</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="example-income" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Example: Income<a href="association-rule.html#example-income" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="IFP-ex" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> explore data<a href="association-rule.html#IFP-ex" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="association-rule.html#cb74-1" tabindex="-1"></a>IncomeESL0<span class="ot">=</span><span class="fu">read.csv</span>(<span class="st">&quot;data/IncomeESL.csv&quot;</span>)</span>
<span id="cb74-2"><a href="association-rule.html#cb74-2" tabindex="-1"></a><span class="fu">dim</span>(IncomeESL0)</span>
<span id="cb74-3"><a href="association-rule.html#cb74-3" tabindex="-1"></a><span class="do">## [1] 8993   14</span></span>
<span id="cb74-4"><a href="association-rule.html#cb74-4" tabindex="-1"></a>IncomeESL<span class="ot">=</span>IncomeESL0[<span class="fu">complete.cases</span>(IncomeESL0),] <span class="co"># remove missing obs.</span></span>
<span id="cb74-5"><a href="association-rule.html#cb74-5" tabindex="-1"></a><span class="fu">dim</span>(IncomeESL)</span>
<span id="cb74-6"><a href="association-rule.html#cb74-6" tabindex="-1"></a><span class="do">## [1] 6876   14</span></span></code></pre></div>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="association-rule.html#cb75-1" tabindex="-1"></a><span class="fu">colnames</span>(IncomeESL) <span class="sc">|&gt;</span> <span class="fu">matrix</span>(<span class="at">ncol=</span><span class="dv">7</span>) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="6%" />
<col width="13%" />
<col width="9%" />
<col width="16%" />
<col width="17%" />
<col width="16%" />
<col width="19%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left">income</td>
<td align="left">marital.status</td>
<td align="left">education</td>
<td align="left">years.in.bay.area</td>
<td align="left">number.in.household</td>
<td align="left">householder.status</td>
<td align="left">ethnic.classification</td>
</tr>
<tr class="even">
<td align="left">sex</td>
<td align="left">age</td>
<td align="left">occupation</td>
<td align="left">dual.incomes</td>
<td align="left">number.of.children</td>
<td align="left">type.of.home</td>
<td align="left">language.in.home</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="association-rule.html#cb76-1" tabindex="-1"></a>Income <span class="ot">&lt;-</span> <span class="fu">as</span>(IncomeESL, <span class="st">&quot;transactions&quot;</span>)</span>
<span id="cb76-2"><a href="association-rule.html#cb76-2" tabindex="-1"></a>summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(Income)</span>
<span id="cb76-3"><a href="association-rule.html#cb76-3" tabindex="-1"></a>Income<span class="sc">@</span>itemInfo <span class="sc">|&gt;</span> DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">filter =</span> <span class="st">&#39;top&#39;</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2810ad94edcf2b4f18ca" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2810ad94edcf2b4f18ca">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;age&quot;,&quot;dual.incomes&quot;,&quot;education&quot;,&quot;ethnic.classification&quot;,&quot;householder.status&quot;,&quot;income&quot;,&quot;language.in.home&quot;,&quot;marital.status&quot;,&quot;number.in.household&quot;,&quot;number.of.children&quot;,&quot;occupation&quot;,&quot;sex&quot;,&quot;type.of.home&quot;,&quot;years.in.bay.area&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;[0,10)&quot;,&quot;[10,15)&quot;,&quot;[15,20)&quot;,&quot;[20,25)&quot;,&quot;[25,30)&quot;,&quot;[30,40)&quot;,&quot;[40,50)&quot;,&quot;[50,75)&quot;,&quot;&lt;1&quot;,&quot;&gt;10&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1-3&quot;,&quot;14-17&quot;,&quot;18-24&quot;,&quot;2&quot;,&quot;25-34&quot;,&quot;3&quot;,&quot;35-44&quot;,&quot;4&quot;,&quot;4-6&quot;,&quot;45-54&quot;,&quot;5&quot;,&quot;55-64&quot;,&quot;6&quot;,&quot;65+&quot;,&quot;7&quot;,&quot;7-10&quot;,&quot;75+&quot;,&quot;8&quot;,&quot;9+&quot;,&quot;american indian&quot;,&quot;apartment&quot;,&quot;asian&quot;,&quot;black&quot;,&quot;clerical/service&quot;,&quot;cohabitation&quot;,&quot;college (1-3 years)&quot;,&quot;college graduate&quot;,&quot;condominium&quot;,&quot;divorced&quot;,&quot;east indian&quot;,&quot;english&quot;,&quot;female&quot;,&quot;grade &lt;9&quot;,&quot;grades 9-11&quot;,&quot;graduate study&quot;,&quot;high school graduate&quot;,&quot;hispanic&quot;,&quot;homemaker&quot;,&quot;house&quot;,&quot;laborer&quot;,&quot;live with parents/family&quot;,&quot;male&quot;,&quot;married&quot;,&quot;military&quot;,&quot;mobile Home&quot;,&quot;no&quot;,&quot;not married&quot;,&quot;other&quot;,&quot;own&quot;,&quot;pacific islander&quot;,&quot;professional/managerial&quot;,&quot;rent&quot;,&quot;retired&quot;,&quot;sales&quot;,&quot;single&quot;,&quot;spanish&quot;,&quot;student&quot;,&quot;unemployed&quot;,&quot;white&quot;,&quot;widowed&quot;,&quot;yes&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84"],["income=[0,10)","income=[10,15)","income=[15,20)","income=[20,25)","income=[25,30)","income=[30,40)","income=[40,50)","income=[50,75)","income=75+","sex=female","sex=male","marital.status=cohabitation","marital.status=divorced","marital.status=married","marital.status=single","marital.status=widowed","age=14-17","age=18-24","age=25-34","age=35-44","age=45-54","age=55-64","age=65+","education=college (1-3 years)","education=college graduate","education=grade &lt;9","education=grades 9-11","education=graduate study","education=high school graduate","occupation=clerical/service","occupation=homemaker","occupation=laborer","occupation=military","occupation=professional/managerial","occupation=retired","occupation=sales","occupation=student","occupation=unemployed","years.in.bay.area=&lt;1","years.in.bay.area=&gt;10","years.in.bay.area=1-3","years.in.bay.area=4-6","years.in.bay.area=7-10","dual.incomes=no","dual.incomes=not married","dual.incomes=yes","number.in.household=1","number.in.household=2","number.in.household=3","number.in.household=4","number.in.household=5","number.in.household=6","number.in.household=7","number.in.household=8","number.in.household=9+","number.of.children=0","number.of.children=1","number.of.children=2","number.of.children=3","number.of.children=4","number.of.children=5","number.of.children=6","number.of.children=7","number.of.children=8","number.of.children=9+","householder.status=live with parents/family","householder.status=own","householder.status=rent","type.of.home=apartment","type.of.home=condominium","type.of.home=house","type.of.home=mobile Home","type.of.home=other","ethnic.classification=american indian","ethnic.classification=asian","ethnic.classification=black","ethnic.classification=east indian","ethnic.classification=hispanic","ethnic.classification=other","ethnic.classification=pacific islander","ethnic.classification=white","language.in.home=english","language.in.home=other","language.in.home=spanish"],["income","income","income","income","income","income","income","income","income","sex","sex","marital.status","marital.status","marital.status","marital.status","marital.status","age","age","age","age","age","age","age","education","education","education","education","education","education","occupation","occupation","occupation","occupation","occupation","occupation","occupation","occupation","occupation","years.in.bay.area","years.in.bay.area","years.in.bay.area","years.in.bay.area","years.in.bay.area","dual.incomes","dual.incomes","dual.incomes","number.in.household","number.in.household","number.in.household","number.in.household","number.in.household","number.in.household","number.in.household","number.in.household","number.in.household","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","number.of.children","householder.status","householder.status","householder.status","type.of.home","type.of.home","type.of.home","type.of.home","type.of.home","ethnic.classification","ethnic.classification","ethnic.classification","ethnic.classification","ethnic.classification","ethnic.classification","ethnic.classification","ethnic.classification","language.in.home","language.in.home","language.in.home"],["[0,10)","[10,15)","[15,20)","[20,25)","[25,30)","[30,40)","[40,50)","[50,75)","75+","female","male","cohabitation","divorced","married","single","widowed","14-17","18-24","25-34","35-44","45-54","55-64","65+","college (1-3 years)","college graduate","grade &lt;9","grades 9-11","graduate study","high school graduate","clerical/service","homemaker","laborer","military","professional/managerial","retired","sales","student","unemployed","&lt;1","&gt;10","1-3","4-6","7-10","no","not married","yes","1","2","3","4","5","6","7","8","9+","0","1","2","3","4","5","6","7","8","9+","live with parents/family","own","rent","apartment","condominium","house","mobile Home","other","american indian","asian","black","east indian","hispanic","other","pacific islander","white","english","other","spanish"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>labels<\/th>\n      <th>variables<\/th>\n      <th>levels<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>@itemSummary</code>: 最頻繁項目</li>
<li><code>@Dim</code>: [rows (elements/itemsets/transactions), columns (items)]</li>
<li><code>@density</code>: 稀疏矩陣的密度</li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="association-rule.html#cb77-1" tabindex="-1"></a>summ<span class="sc">@</span>itemSummary <span class="co"># most frequent items</span></span></code></pre></div>
<pre><code>##    language.in.home=english ethnic.classification=white 
##                        6277                        4605 
##       years.in.bay.area=&gt;10        number.of.children=0 
##                        4446                        4276 
##    dual.incomes=not married                     (Other) 
##                        4114                       72546</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="association-rule.html#cb79-1" tabindex="-1"></a>summ<span class="sc">@</span>Dim</span></code></pre></div>
<pre><code>## [1] 6876   84</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="association-rule.html#cb81-1" tabindex="-1"></a>summ<span class="sc">@</span>density</span></code></pre></div>
<pre><code>## [1] 0.1666667</code></pre>
<ul>
<li>用於交易物件的函數
<ul>
<li><code>summary(transactions)</code></li>
<li><code>toLongFormat(transactions)</code>: 轉成兩欄的data.frame，分別為ID和項目，可用<code>cols</code>重新命名</li>
<li><code>items(transactions)</code>: 轉為<code>itemMatrix</code></li>
<li><code>transactionInfo(transactions) &lt;- value</code></li>
<li><code>dimnames(transactions) &lt;- value</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="association-rule.html#cb83-1" tabindex="-1"></a><span class="co"># summary(Income)</span></span>
<span id="cb83-2"><a href="association-rule.html#cb83-2" tabindex="-1"></a><span class="fu">toLongFormat</span>(Income) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##   TID                       item
## 1   1                 income=75+
## 2   1                   sex=male
## 3   1     marital.status=married
## 4   1                  age=45-54
## 5   1 education=college graduate</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="association-rule.html#cb85-1" tabindex="-1"></a><span class="fu">items</span>(Income)</span></code></pre></div>
<pre><code>## itemMatrix in sparse format with
##  6876 rows (elements/transactions) and
##  84 columns (items)</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="association-rule.html#cb87-1" tabindex="-1"></a><span class="co"># transactionInfo(Income) |&gt; head(3)</span></span>
<span id="cb87-2"><a href="association-rule.html#cb87-2" tabindex="-1"></a><span class="co"># dimnames(Income)</span></span></code></pre></div>
<ul>
<li><code>itemFrequency(x, type = c("relative", "absolute"))</code>: 取得所有單個項目的次數/支持度</li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="association-rule.html#cb88-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">itemFrequency</span>(Income), <span class="at">decreasing =</span> T) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##    language.in.home=english ethnic.classification=white 
##                   0.9128854                   0.6697208 
##       years.in.bay.area=&gt;10        number.of.children=0 
##                   0.6465969                   0.6218732 
##    dual.incomes=not married 
##                   0.5983130</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="association-rule.html#cb90-1" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(Income, <span class="at">support=</span><span class="fl">0.5</span>, <span class="at">cex.names =</span> <span class="fl">1.2</span>, <span class="at">main=</span><span class="st">&#39;only support &gt; 0.5&#39;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-46-1.png" width="1152" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="association-rule.html#cb91-1" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(Income, <span class="at">topN=</span><span class="dv">10</span>, <span class="at">horiz=</span>T, <span class="at">main=</span><span class="st">&#39;top 10 highest freq.&#39;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-46-2.png" width="1152" style="display: block; margin: auto;" /></p>
<ul>
<li><code>las</code>: 標籤的方向，垂直和水平指x, y軸標籤之間
<ul>
<li><code>0</code>: (預設)垂直放置</li>
<li><code>1</code>: 水平放置</li>
<li><code>2</code>: 垂直放置，但文字旋轉90度</li>
<li><code>3</code>: 水平放置，但文字旋轉90度</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="association-rule.html#cb92-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">13</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb92-2"><a href="association-rule.html#cb92-2" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">sort</span>(<span class="fu">itemFrequency</span>(Income), <span class="at">decreasing=</span><span class="cn">TRUE</span>), <span class="at">horiz =</span>T, <span class="at">las=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-47-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="get-rules-with-apriori" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> get rules with apriori<a href="association-rule.html#get-rules-with-apriori" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="association-rule.html#cb93-1" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Income, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">support =</span> <span class="fl">0.2</span>, <span class="at">confidence =</span> <span class="fl">0.6</span>))</span>
<span id="cb93-2"><a href="association-rule.html#cb93-2" tabindex="-1"></a>summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(rules)</span></code></pre></div>
<ul>
<li><code>@quality</code>: 支持度、信賴度、覆蓋率(coverage)、增益度、次數的基本統計量</li>
<li><code>@lengths</code>: LHS + RHS的總項目數分布</li>
</ul>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="association-rule.html#cb94-1" tabindex="-1"></a>summ<span class="sc">@</span>quality <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="3%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">support</th>
<th align="left">confidence</th>
<th align="left">coverage</th>
<th align="left">lift</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"></td>
<td align="left">Min. :0.2001</td>
<td align="left">Min. :0.6004</td>
<td align="left">Min. :0.2001</td>
<td align="left">Min. :0.9215</td>
<td align="left">Min. :1376</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">1st Qu.:0.2247</td>
<td align="left">1st Qu.:0.6746</td>
<td align="left">1st Qu.:0.2761</td>
<td align="left">1st Qu.:1.0189</td>
<td align="left">1st Qu.:1545</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Median :0.2469</td>
<td align="left">Median :0.7501</td>
<td align="left">Median :0.3380</td>
<td align="left">Median :1.0816</td>
<td align="left">Median :1698</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Mean :0.2800</td>
<td align="left">Mean :0.7875</td>
<td align="left">Mean :0.3663</td>
<td align="left">Mean :1.1999</td>
<td align="left">Mean :1925</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">3rd Qu.:0.2922</td>
<td align="left">3rd Qu.:0.9240</td>
<td align="left">3rd Qu.:0.4007</td>
<td align="left">3rd Qu.:1.1930</td>
<td align="left">3rd Qu.:2009</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Max. :0.9129</td>
<td align="left">Max. :1.0000</td>
<td align="left">Max. :1.0000</td>
<td align="left">Max. :2.4343</td>
<td align="left">Max. :6277</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="association-rule.html#cb95-1" tabindex="-1"></a>summ<span class="sc">@</span>lengths</span></code></pre></div>
<pre><code>## sizes
##   1   2   3   4 
##   4  73 176  83</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="association-rule.html#cb97-1" tabindex="-1"></a><span class="fu">inspectDT</span>(rules) <span class="sc">|&gt;</span> DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="at">columns=</span><span class="st">&#39;count&#39;</span>, <span class="at">digits=</span><span class="dv">0</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-69b48c1f8cb72ab22662" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-69b48c1f8cb72ab22662">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{}&quot;,&quot;{age=18-24}&quot;,&quot;{dual.incomes=yes}&quot;,&quot;{marital.status=married}&quot;,&quot;{age=25-34}&quot;,&quot;{type.of.home=apartment}&quot;,&quot;{number.in.household=2}&quot;,&quot;{occupation=professional/managerial}&quot;,&quot;{education=college (1-3 years)}&quot;,&quot;{householder.status=own}&quot;,&quot;{marital.status=single}&quot;,&quot;{dual.incomes=not married}&quot;,&quot;{householder.status=rent}&quot;,&quot;{sex=male}&quot;,&quot;{sex=female}&quot;,&quot;{type.of.home=house}&quot;,&quot;{years.in.bay.area=&gt;10}&quot;,&quot;{ethnic.classification=white}&quot;,&quot;{number.of.children=0}&quot;,&quot;{language.in.home=english}&quot;,&quot;{marital.status=married,dual.incomes=yes}&quot;,&quot;{dual.incomes=yes,language.in.home=english}&quot;,&quot;{marital.status=married,language.in.home=english}&quot;,&quot;{householder.status=rent,type.of.home=apartment}&quot;,&quot;{number.of.children=0,type.of.home=apartment}&quot;,&quot;{number.of.children=0,householder.status=rent}&quot;,&quot;{type.of.home=apartment,language.in.home=english}&quot;,&quot;{householder.status=rent,language.in.home=english}&quot;,&quot;{number.in.household=2,number.of.children=0}&quot;,&quot;{number.in.household=2,ethnic.classification=white}&quot;,&quot;{number.in.household=2,language.in.home=english}&quot;,&quot;{occupation=professional/managerial,number.of.children=0}&quot;,&quot;{occupation=professional/managerial,language.in.home=english}&quot;,&quot;{occupation=professional/managerial,years.in.bay.area=&gt;10}&quot;,&quot;{occupation=professional/managerial,ethnic.classification=white}&quot;,&quot;{education=college (1-3 years),number.of.children=0}&quot;,&quot;{education=college (1-3 years),language.in.home=english}&quot;,&quot;{education=college (1-3 years),years.in.bay.area=&gt;10}&quot;,&quot;{education=college (1-3 years),ethnic.classification=white}&quot;,&quot;{marital.status=married,householder.status=own}&quot;,&quot;{householder.status=own,type.of.home=house}&quot;,&quot;{marital.status=married,type.of.home=house}&quot;,&quot;{years.in.bay.area=&gt;10,householder.status=own}&quot;,&quot;{marital.status=married,years.in.bay.area=&gt;10}&quot;,&quot;{householder.status=own,ethnic.classification=white}&quot;,&quot;{marital.status=married,ethnic.classification=white}&quot;,&quot;{householder.status=own,language.in.home=english}&quot;,&quot;{sex=female,householder.status=own}&quot;,&quot;{number.of.children=0,householder.status=own}&quot;,&quot;{sex=female,marital.status=married}&quot;,&quot;{marital.status=married,number.of.children=0}&quot;,&quot;{sex=male,marital.status=single}&quot;,&quot;{sex=male,dual.incomes=not married}&quot;,&quot;{sex=female,marital.status=single}&quot;,&quot;{sex=female,dual.incomes=not married}&quot;,&quot;{marital.status=single,type.of.home=house}&quot;,&quot;{dual.incomes=not married,type.of.home=house}&quot;,&quot;{marital.status=single,dual.incomes=not married}&quot;,&quot;{marital.status=single,number.of.children=0}&quot;,&quot;{dual.incomes=not married,number.of.children=0}&quot;,&quot;{marital.status=single,years.in.bay.area=&gt;10}&quot;,&quot;{years.in.bay.area=&gt;10,dual.incomes=not married}&quot;,&quot;{marital.status=single,ethnic.classification=white}&quot;,&quot;{dual.incomes=not married,ethnic.classification=white}&quot;,&quot;{marital.status=single,language.in.home=english}&quot;,&quot;{dual.incomes=not married,language.in.home=english}&quot;,&quot;{dual.incomes=not married,householder.status=rent}&quot;,&quot;{householder.status=rent,ethnic.classification=white}&quot;,&quot;{sex=male,type.of.home=house}&quot;,&quot;{sex=male,number.of.children=0}&quot;,&quot;{sex=male,language.in.home=english}&quot;,&quot;{sex=male,ethnic.classification=white}&quot;,&quot;{sex=male,years.in.bay.area=&gt;10}&quot;,&quot;{sex=female,type.of.home=house}&quot;,&quot;{sex=female,years.in.bay.area=&gt;10}&quot;,&quot;{sex=female,ethnic.classification=white}&quot;,&quot;{sex=female,language.in.home=english}&quot;,&quot;{sex=female,number.of.children=0}&quot;,&quot;{number.of.children=0,type.of.home=house}&quot;,&quot;{years.in.bay.area=&gt;10,type.of.home=house}&quot;,&quot;{type.of.home=house,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,ethnic.classification=white}&quot;,&quot;{type.of.home=house,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,language.in.home=english}&quot;,&quot;{ethnic.classification=white,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,number.of.children=0}&quot;,&quot;{number.of.children=0,ethnic.classification=white}&quot;,&quot;{number.of.children=0,language.in.home=english}&quot;,&quot;{number.in.household=2,number.of.children=0,ethnic.classification=white}&quot;,&quot;{number.in.household=2,number.of.children=0,language.in.home=english}&quot;,&quot;{number.in.household=2,ethnic.classification=white,language.in.home=english}&quot;,&quot;{marital.status=married,householder.status=own,type.of.home=house}&quot;,&quot;{marital.status=married,householder.status=own,language.in.home=english}&quot;,&quot;{householder.status=own,type.of.home=house,language.in.home=english}&quot;,&quot;{marital.status=married,type.of.home=house,language.in.home=english}&quot;,&quot;{marital.status=married,householder.status=own,ethnic.classification=white}&quot;,&quot;{householder.status=own,ethnic.classification=white,language.in.home=english}&quot;,&quot;{marital.status=married,ethnic.classification=white,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,householder.status=own,type.of.home=house}&quot;,&quot;{years.in.bay.area=&gt;10,householder.status=own,language.in.home=english}&quot;,&quot;{householder.status=own,type.of.home=house,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,householder.status=own,ethnic.classification=white}&quot;,&quot;{marital.status=married,type.of.home=house,ethnic.classification=white}&quot;,&quot;{marital.status=single,dual.incomes=not married,type.of.home=house}&quot;,&quot;{marital.status=single,type.of.home=house,language.in.home=english}&quot;,&quot;{dual.incomes=not married,type.of.home=house,language.in.home=english}&quot;,&quot;{marital.status=single,dual.incomes=not married,number.of.children=0}&quot;,&quot;{marital.status=single,dual.incomes=not married,language.in.home=english}&quot;,&quot;{marital.status=single,number.of.children=0,language.in.home=english}&quot;,&quot;{dual.incomes=not married,number.of.children=0,language.in.home=english}&quot;,&quot;{marital.status=single,years.in.bay.area=&gt;10,dual.incomes=not married}&quot;,&quot;{marital.status=single,years.in.bay.area=&gt;10,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,dual.incomes=not married,language.in.home=english}&quot;,&quot;{marital.status=single,dual.incomes=not married,ethnic.classification=white}&quot;,&quot;{marital.status=single,ethnic.classification=white,language.in.home=english}&quot;,&quot;{dual.incomes=not married,ethnic.classification=white,language.in.home=english}&quot;,&quot;{dual.incomes=not married,number.of.children=0,householder.status=rent}&quot;,&quot;{dual.incomes=not married,householder.status=rent,language.in.home=english}&quot;,&quot;{number.of.children=0,householder.status=rent,language.in.home=english}&quot;,&quot;{number.of.children=0,householder.status=rent,ethnic.classification=white}&quot;,&quot;{householder.status=rent,ethnic.classification=white,language.in.home=english}&quot;,&quot;{sex=male,number.of.children=0,ethnic.classification=white}&quot;,&quot;{sex=male,number.of.children=0,language.in.home=english}&quot;,&quot;{sex=male,ethnic.classification=white,language.in.home=english}&quot;,&quot;{sex=female,years.in.bay.area=&gt;10,type.of.home=house}&quot;,&quot;{sex=female,type.of.home=house,language.in.home=english}&quot;,&quot;{sex=female,years.in.bay.area=&gt;10,language.in.home=english}&quot;,&quot;{sex=female,type.of.home=house,ethnic.classification=white}&quot;,&quot;{sex=female,ethnic.classification=white,language.in.home=english}&quot;,&quot;{sex=female,number.of.children=0,ethnic.classification=white}&quot;,&quot;{sex=female,number.of.children=0,language.in.home=english}&quot;,&quot;{sex=female,years.in.bay.area=&gt;10,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,dual.incomes=not married,type.of.home=house}&quot;,&quot;{years.in.bay.area=&gt;10,number.of.children=0,type.of.home=house}&quot;,&quot;{number.of.children=0,type.of.home=house,language.in.home=english}&quot;,&quot;{number.of.children=0,type.of.home=house,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,type.of.home=house,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,type.of.home=house,language.in.home=english}&quot;,&quot;{type.of.home=house,ethnic.classification=white,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,ethnic.classification=white,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,dual.incomes=not married,number.of.children=0}&quot;,&quot;{dual.incomes=not married,number.of.children=0,ethnic.classification=white}&quot;,&quot;{number.of.children=0,ethnic.classification=white,language.in.home=english}&quot;,&quot;{years.in.bay.area=&gt;10,dual.incomes=not married,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,number.of.children=0,ethnic.classification=white}&quot;,&quot;{years.in.bay.area=&gt;10,number.of.children=0,language.in.home=english}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;{number.of.children=0}&quot;,&quot;{years.in.bay.area=&gt;10}&quot;,&quot;{ethnic.classification=white}&quot;,&quot;{language.in.home=english}&quot;,&quot;{dual.incomes=not married}&quot;,&quot;{marital.status=married}&quot;,&quot;{dual.incomes=yes}&quot;,&quot;{householder.status=rent}&quot;,&quot;{householder.status=own}&quot;,&quot;{type.of.home=house}&quot;,&quot;{marital.status=single}&quot;,&quot;{type.of.home=apartment}&quot;,&quot;{sex=female}&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.200116346713205\" data-max=\"0.912885398487493\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.600388349514563\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.200116346713205\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.921480654615437\" data-max=\"2.43426037455888\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1376\" data-max=\"6277\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]","[27]","[28]","[29]","[30]","[31]","[32]","[33]","[34]","[35]","[36]","[37]","[38]","[39]","[40]","[41]","[42]","[43]","[44]","[45]","[46]","[47]","[48]","[49]","[50]","[51]","[52]","[53]","[54]","[55]","[56]","[57]","[58]","[59]","[60]","[61]","[62]","[63]","[64]","[65]","[66]","[67]","[68]","[69]","[70]","[71]","[72]","[73]","[74]","[75]","[76]","[77]","[78]","[79]","[80]","[81]","[82]","[83]","[84]","[85]","[86]","[87]","[88]","[89]","[90]","[91]","[92]","[93]","[94]","[95]","[96]","[97]","[98]","[99]","[100]","[101]","[102]","[103]","[104]","[105]","[106]","[107]","[108]","[109]","[110]","[111]","[112]","[113]","[114]","[115]","[116]","[117]","[118]","[119]","[120]","[121]","[122]","[123]","[124]","[125]","[126]","[127]","[128]","[129]","[130]","[131]","[132]","[133]","[134]","[135]","[136]","[137]","[138]","[139]","[140]","[141]","[142]","[143]","[144]","[145]","[146]","[147]","[148]","[149]","[150]","[151]","[152]","[153]","[154]","[155]","[156]","[157]","[158]","[159]","[160]","[161]","[162]","[163]","[164]","[165]","[166]","[167]","[168]","[169]","[170]","[171]","[172]","[173]","[174]","[175]","[176]","[177]","[178]","[179]","[180]","[181]","[182]","[183]","[184]","[185]","[186]","[187]","[188]","[189]","[190]","[191]","[192]","[193]","[194]","[195]","[196]","[197]","[198]","[199]","[200]","[201]","[202]","[203]","[204]","[205]","[206]","[207]","[208]","[209]","[210]","[211]","[212]","[213]","[214]","[215]","[216]","[217]","[218]","[219]","[220]","[221]","[222]","[223]","[224]","[225]","[226]","[227]","[228]","[229]","[230]","[231]","[232]","[233]","[234]","[235]","[236]","[237]","[238]","[239]","[240]","[241]","[242]","[243]","[244]","[245]","[246]","[247]","[248]","[249]","[250]","[251]","[252]","[253]","[254]","[255]","[256]","[257]","[258]","[259]","[260]","[261]","[262]","[263]","[264]","[265]","[266]","[267]","[268]","[269]","[270]","[271]","[272]","[273]","[274]","[275]","[276]","[277]","[278]","[279]","[280]","[281]","[282]","[283]","[284]","[285]","[286]","[287]","[288]","[289]","[290]","[291]","[292]","[293]","[294]","[295]","[296]","[297]","[298]","[299]","[300]","[301]","[302]","[303]","[304]","[305]","[306]","[307]","[308]","[309]","[310]","[311]","[312]","[313]","[314]","[315]","[316]","[317]","[318]","[319]","[320]","[321]","[322]","[323]","[324]","[325]","[326]","[327]","[328]","[329]","[330]","[331]","[332]","[333]","[334]","[335]","[336]"],["{}","{}","{}","{}","{age=18-24}","{age=18-24}","{dual.incomes=yes}","{marital.status=married}","{dual.incomes=yes}","{age=25-34}","{type.of.home=apartment}","{type.of.home=apartment}","{type.of.home=apartment}","{type.of.home=apartment}","{number.in.household=2}","{number.in.household=2}","{number.in.household=2}","{number.in.household=2}","{occupation=professional/managerial}","{occupation=professional/managerial}","{occupation=professional/managerial}","{occupation=professional/managerial}","{education=college (1-3 years)}","{education=college (1-3 years)}","{education=college (1-3 years)}","{education=college (1-3 years)}","{householder.status=own}","{marital.status=married}","{householder.status=own}","{householder.status=own}","{householder.status=own}","{householder.status=own}","{householder.status=own}","{marital.status=married}","{marital.status=married}","{marital.status=married}","{marital.status=married}","{marital.status=single}","{dual.incomes=not married}","{marital.status=single}","{marital.status=single}","{marital.status=single}","{marital.status=single}","{householder.status=rent}","{householder.status=rent}","{householder.status=rent}","{householder.status=rent}","{sex=male}","{sex=male}","{sex=male}","{sex=male}","{sex=male}","{sex=female}","{sex=female}","{sex=female}","{sex=female}","{type.of.home=house}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{ethnic.classification=white}","{type.of.home=house}","{dual.incomes=not married}","{number.of.children=0}","{dual.incomes=not married}","{dual.incomes=not married}","{dual.incomes=not married}","{number.of.children=0}","{number.of.children=0}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{marital.status=married,dual.incomes=yes}","{dual.incomes=yes,language.in.home=english}","{marital.status=married,language.in.home=english}","{householder.status=rent,type.of.home=apartment}","{number.of.children=0,type.of.home=apartment}","{number.of.children=0,householder.status=rent}","{householder.status=rent,type.of.home=apartment}","{type.of.home=apartment,language.in.home=english}","{householder.status=rent,language.in.home=english}","{number.in.household=2,number.of.children=0}","{number.in.household=2,ethnic.classification=white}","{number.in.household=2,number.of.children=0}","{number.in.household=2,language.in.home=english}","{number.in.household=2,ethnic.classification=white}","{number.in.household=2,language.in.home=english}","{occupation=professional/managerial,number.of.children=0}","{occupation=professional/managerial,language.in.home=english}","{occupation=professional/managerial,years.in.bay.area=&gt;10}","{occupation=professional/managerial,language.in.home=english}","{occupation=professional/managerial,ethnic.classification=white}","{occupation=professional/managerial,language.in.home=english}","{education=college (1-3 years),number.of.children=0}","{education=college (1-3 years),language.in.home=english}","{education=college (1-3 years),years.in.bay.area=&gt;10}","{education=college (1-3 years),language.in.home=english}","{education=college (1-3 years),ethnic.classification=white}","{education=college (1-3 years),language.in.home=english}","{marital.status=married,householder.status=own}","{householder.status=own,type.of.home=house}","{marital.status=married,type.of.home=house}","{marital.status=married,householder.status=own}","{years.in.bay.area=&gt;10,householder.status=own}","{marital.status=married,years.in.bay.area=&gt;10}","{marital.status=married,householder.status=own}","{householder.status=own,ethnic.classification=white}","{marital.status=married,ethnic.classification=white}","{marital.status=married,householder.status=own}","{householder.status=own,language.in.home=english}","{marital.status=married,language.in.home=english}","{sex=female,householder.status=own}","{householder.status=own,type.of.home=house}","{years.in.bay.area=&gt;10,householder.status=own}","{householder.status=own,type.of.home=house}","{householder.status=own,ethnic.classification=white}","{householder.status=own,type.of.home=house}","{householder.status=own,language.in.home=english}","{number.of.children=0,householder.status=own}","{householder.status=own,language.in.home=english}","{years.in.bay.area=&gt;10,householder.status=own}","{householder.status=own,ethnic.classification=white}","{years.in.bay.area=&gt;10,householder.status=own}","{householder.status=own,language.in.home=english}","{householder.status=own,ethnic.classification=white}","{householder.status=own,language.in.home=english}","{sex=female,marital.status=married}","{marital.status=married,language.in.home=english}","{marital.status=married,type.of.home=house}","{marital.status=married,years.in.bay.area=&gt;10}","{marital.status=married,type.of.home=house}","{marital.status=married,ethnic.classification=white}","{marital.status=married,type.of.home=house}","{marital.status=married,language.in.home=english}","{marital.status=married,number.of.children=0}","{marital.status=married,years.in.bay.area=&gt;10}","{marital.status=married,language.in.home=english}","{marital.status=married,ethnic.classification=white}","{marital.status=married,language.in.home=english}","{sex=male,marital.status=single}","{sex=male,dual.incomes=not married}","{sex=female,marital.status=single}","{sex=female,dual.incomes=not married}","{marital.status=single,type.of.home=house}","{dual.incomes=not married,type.of.home=house}","{marital.status=single,type.of.home=house}","{marital.status=single,dual.incomes=not married}","{marital.status=single,number.of.children=0}","{dual.incomes=not married,number.of.children=0}","{marital.status=single,dual.incomes=not married}","{marital.status=single,years.in.bay.area=&gt;10}","{years.in.bay.area=&gt;10,dual.incomes=not married}","{marital.status=single,dual.incomes=not married}","{marital.status=single,ethnic.classification=white}","{dual.incomes=not married,ethnic.classification=white}","{marital.status=single,dual.incomes=not married}","{marital.status=single,language.in.home=english}","{dual.incomes=not married,language.in.home=english}","{marital.status=single,number.of.children=0}","{marital.status=single,language.in.home=english}","{marital.status=single,years.in.bay.area=&gt;10}","{marital.status=single,language.in.home=english}","{marital.status=single,ethnic.classification=white}","{marital.status=single,language.in.home=english}","{dual.incomes=not married,householder.status=rent}","{number.of.children=0,householder.status=rent}","{dual.incomes=not married,number.of.children=0}","{dual.incomes=not married,householder.status=rent}","{householder.status=rent,language.in.home=english}","{number.of.children=0,householder.status=rent}","{householder.status=rent,ethnic.classification=white}","{number.of.children=0,householder.status=rent}","{householder.status=rent,language.in.home=english}","{householder.status=rent,ethnic.classification=white}","{householder.status=rent,language.in.home=english}","{sex=male,type.of.home=house}","{sex=male,dual.incomes=not married}","{sex=male,number.of.children=0}","{sex=male,dual.incomes=not married}","{sex=male,language.in.home=english}","{sex=male,number.of.children=0}","{sex=male,ethnic.classification=white}","{sex=male,number.of.children=0}","{sex=male,language.in.home=english}","{sex=male,years.in.bay.area=&gt;10}","{sex=male,language.in.home=english}","{sex=male,ethnic.classification=white}","{sex=male,language.in.home=english}","{sex=female,type.of.home=house}","{sex=female,years.in.bay.area=&gt;10}","{sex=female,type.of.home=house}","{sex=female,ethnic.classification=white}","{sex=female,type.of.home=house}","{sex=female,language.in.home=english}","{sex=female,dual.incomes=not married}","{sex=female,dual.incomes=not married}","{sex=female,dual.incomes=not married}","{sex=female,number.of.children=0}","{sex=female,number.of.children=0}","{sex=female,ethnic.classification=white}","{sex=female,number.of.children=0}","{sex=female,years.in.bay.area=&gt;10}","{sex=female,ethnic.classification=white}","{sex=female,years.in.bay.area=&gt;10}","{sex=female,language.in.home=english}","{sex=female,ethnic.classification=white}","{sex=female,language.in.home=english}","{dual.incomes=not married,type.of.home=house}","{years.in.bay.area=&gt;10,dual.incomes=not married}","{dual.incomes=not married,type.of.home=house}","{number.of.children=0,type.of.home=house}","{number.of.children=0,type.of.home=house}","{number.of.children=0,type.of.home=house}","{years.in.bay.area=&gt;10,type.of.home=house}","{type.of.home=house,ethnic.classification=white}","{years.in.bay.area=&gt;10,ethnic.classification=white}","{years.in.bay.area=&gt;10,type.of.home=house}","{type.of.home=house,language.in.home=english}","{years.in.bay.area=&gt;10,language.in.home=english}","{type.of.home=house,ethnic.classification=white}","{type.of.home=house,language.in.home=english}","{ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married}","{years.in.bay.area=&gt;10,number.of.children=0}","{dual.incomes=not married,number.of.children=0}","{dual.incomes=not married,ethnic.classification=white}","{number.of.children=0,ethnic.classification=white}","{dual.incomes=not married,number.of.children=0}","{dual.incomes=not married,language.in.home=english}","{number.of.children=0,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married}","{dual.incomes=not married,ethnic.classification=white}","{years.in.bay.area=&gt;10,dual.incomes=not married}","{dual.incomes=not married,language.in.home=english}","{dual.incomes=not married,ethnic.classification=white}","{dual.incomes=not married,language.in.home=english}","{years.in.bay.area=&gt;10,number.of.children=0}","{number.of.children=0,ethnic.classification=white}","{years.in.bay.area=&gt;10,ethnic.classification=white}","{years.in.bay.area=&gt;10,number.of.children=0}","{number.of.children=0,language.in.home=english}","{years.in.bay.area=&gt;10,language.in.home=english}","{number.of.children=0,ethnic.classification=white}","{number.of.children=0,language.in.home=english}","{ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,ethnic.classification=white}","{years.in.bay.area=&gt;10,language.in.home=english}","{ethnic.classification=white,language.in.home=english}","{number.in.household=2,number.of.children=0,ethnic.classification=white}","{number.in.household=2,number.of.children=0,language.in.home=english}","{number.in.household=2,ethnic.classification=white,language.in.home=english}","{marital.status=married,householder.status=own,type.of.home=house}","{marital.status=married,householder.status=own,language.in.home=english}","{householder.status=own,type.of.home=house,language.in.home=english}","{marital.status=married,type.of.home=house,language.in.home=english}","{marital.status=married,householder.status=own,ethnic.classification=white}","{marital.status=married,householder.status=own,language.in.home=english}","{householder.status=own,ethnic.classification=white,language.in.home=english}","{marital.status=married,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,householder.status=own,type.of.home=house}","{householder.status=own,type.of.home=house,language.in.home=english}","{years.in.bay.area=&gt;10,householder.status=own,language.in.home=english}","{householder.status=own,type.of.home=house,ethnic.classification=white}","{householder.status=own,type.of.home=house,language.in.home=english}","{householder.status=own,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,householder.status=own,ethnic.classification=white}","{years.in.bay.area=&gt;10,householder.status=own,language.in.home=english}","{householder.status=own,ethnic.classification=white,language.in.home=english}","{marital.status=married,type.of.home=house,ethnic.classification=white}","{marital.status=married,type.of.home=house,language.in.home=english}","{marital.status=married,ethnic.classification=white,language.in.home=english}","{marital.status=single,dual.incomes=not married,type.of.home=house}","{marital.status=single,type.of.home=house,language.in.home=english}","{dual.incomes=not married,type.of.home=house,language.in.home=english}","{marital.status=single,dual.incomes=not married,number.of.children=0}","{marital.status=single,dual.incomes=not married,language.in.home=english}","{marital.status=single,number.of.children=0,language.in.home=english}","{dual.incomes=not married,number.of.children=0,language.in.home=english}","{marital.status=single,years.in.bay.area=&gt;10,dual.incomes=not married}","{marital.status=single,dual.incomes=not married,language.in.home=english}","{marital.status=single,years.in.bay.area=&gt;10,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married,language.in.home=english}","{marital.status=single,dual.incomes=not married,ethnic.classification=white}","{marital.status=single,dual.incomes=not married,language.in.home=english}","{marital.status=single,ethnic.classification=white,language.in.home=english}","{dual.incomes=not married,ethnic.classification=white,language.in.home=english}","{dual.incomes=not married,number.of.children=0,householder.status=rent}","{dual.incomes=not married,householder.status=rent,language.in.home=english}","{number.of.children=0,householder.status=rent,language.in.home=english}","{dual.incomes=not married,number.of.children=0,language.in.home=english}","{number.of.children=0,householder.status=rent,ethnic.classification=white}","{number.of.children=0,householder.status=rent,language.in.home=english}","{householder.status=rent,ethnic.classification=white,language.in.home=english}","{sex=male,number.of.children=0,ethnic.classification=white}","{sex=male,number.of.children=0,language.in.home=english}","{sex=male,ethnic.classification=white,language.in.home=english}","{sex=female,years.in.bay.area=&gt;10,type.of.home=house}","{sex=female,type.of.home=house,language.in.home=english}","{sex=female,years.in.bay.area=&gt;10,language.in.home=english}","{sex=female,type.of.home=house,ethnic.classification=white}","{sex=female,type.of.home=house,language.in.home=english}","{sex=female,ethnic.classification=white,language.in.home=english}","{sex=female,number.of.children=0,ethnic.classification=white}","{sex=female,number.of.children=0,language.in.home=english}","{sex=female,ethnic.classification=white,language.in.home=english}","{sex=female,years.in.bay.area=&gt;10,ethnic.classification=white}","{sex=female,years.in.bay.area=&gt;10,language.in.home=english}","{sex=female,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married,type.of.home=house}","{dual.incomes=not married,type.of.home=house,language.in.home=english}","{years.in.bay.area=&gt;10,number.of.children=0,type.of.home=house}","{number.of.children=0,type.of.home=house,language.in.home=english}","{number.of.children=0,type.of.home=house,ethnic.classification=white}","{number.of.children=0,type.of.home=house,language.in.home=english}","{years.in.bay.area=&gt;10,type.of.home=house,ethnic.classification=white}","{years.in.bay.area=&gt;10,type.of.home=house,language.in.home=english}","{type.of.home=house,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married,number.of.children=0}","{years.in.bay.area=&gt;10,dual.incomes=not married,language.in.home=english}","{dual.incomes=not married,number.of.children=0,ethnic.classification=white}","{dual.incomes=not married,number.of.children=0,language.in.home=english}","{dual.incomes=not married,ethnic.classification=white,language.in.home=english}","{number.of.children=0,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,dual.incomes=not married,ethnic.classification=white}","{years.in.bay.area=&gt;10,dual.incomes=not married,language.in.home=english}","{dual.incomes=not married,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,number.of.children=0,ethnic.classification=white}","{years.in.bay.area=&gt;10,number.of.children=0,language.in.home=english}","{number.of.children=0,ethnic.classification=white,language.in.home=english}","{years.in.bay.area=&gt;10,ethnic.classification=white,language.in.home=english}"],["{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{dual.incomes=not married}","{language.in.home=english}","{marital.status=married}","{dual.incomes=yes}","{language.in.home=english}","{language.in.home=english}","{householder.status=rent}","{dual.incomes=not married}","{number.of.children=0}","{language.in.home=english}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{marital.status=married}","{householder.status=own}","{type.of.home=house}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{type.of.home=house}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{dual.incomes=not married}","{marital.status=single}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{dual.incomes=not married}","{number.of.children=0}","{ethnic.classification=white}","{language.in.home=english}","{dual.incomes=not married}","{number.of.children=0}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{type.of.home=house}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{number.of.children=0}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{marital.status=married}","{dual.incomes=yes}","{number.of.children=0}","{householder.status=rent}","{type.of.home=apartment}","{language.in.home=english}","{householder.status=rent}","{type.of.home=apartment}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{type.of.home=house}","{marital.status=married}","{householder.status=own}","{years.in.bay.area=&gt;10}","{marital.status=married}","{householder.status=own}","{ethnic.classification=white}","{marital.status=married}","{householder.status=own}","{language.in.home=english}","{marital.status=married}","{householder.status=own}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{type.of.home=house}","{language.in.home=english}","{number.of.children=0}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{sex=female}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{type.of.home=house}","{language.in.home=english}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{dual.incomes=not married}","{marital.status=single}","{dual.incomes=not married}","{marital.status=single}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{marital.status=single}","{years.in.bay.area=&gt;10}","{dual.incomes=not married}","{marital.status=single}","{ethnic.classification=white}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{dual.incomes=not married}","{householder.status=rent}","{language.in.home=english}","{dual.incomes=not married}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{language.in.home=english}","{dual.incomes=not married}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{type.of.home=house}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{ethnic.classification=white}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{ethnic.classification=white}","{type.of.home=house}","{number.of.children=0}","{dual.incomes=not married}","{ethnic.classification=white}","{number.of.children=0}","{dual.incomes=not married}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{type.of.home=house}","{marital.status=married}","{householder.status=own}","{language.in.home=english}","{ethnic.classification=white}","{marital.status=married}","{householder.status=own}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{ethnic.classification=white}","{dual.incomes=not married}","{marital.status=single}","{language.in.home=english}","{number.of.children=0}","{dual.incomes=not married}","{householder.status=rent}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{ethnic.classification=white}","{type.of.home=house}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{type.of.home=house}","{language.in.home=english}","{number.of.children=0}","{language.in.home=english}","{ethnic.classification=white}","{number.of.children=0}","{dual.incomes=not married}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{language.in.home=english}","{ethnic.classification=white}","{years.in.bay.area=&gt;10}","{number.of.children=0}"],[0.6218731820826061,0.6465968586387435,0.6697207678883071,0.9128853984874927,0.2017161140197789,0.206369982547993,0.2370564281559046,0.2370564281559046,0.2338568935427574,0.2374927283304247,0.2507271669575334,0.2060791157649796,0.2137870855148342,0.2497091332169866,0.2878126817917394,0.2006980802792321,0.2344386271087842,0.2966841186736475,0.2380744618964514,0.2092786503781268,0.2533449680046539,0.3234438627108784,0.2398196625945317,0.2345840605002909,0.2505817335660268,0.3296974985456661,0.2614892379290285,0.2614892379290285,0.3161721931355439,0.2437463641652123,0.2878126817917394,0.2844677137870855,0.3547120418848168,0.281413612565445,0.2670157068062827,0.2786503781268179,0.3551483420593368,0.4091041303083188,0.4091041303083188,0.2484002326934264,0.2479639325189063,0.2524723676556137,0.3647469458987784,0.2844677137870855,0.3128272251308901,0.2773414776032577,0.3837987201861547,0.2830133798720186,0.3006108202443281,0.2763234438627109,0.2905759162303665,0.4006689936009308,0.3379872018615474,0.3702734147760326,0.3791448516579407,0.5122164048865619,0.4363001745200698,0.4363001745200698,0.406195462478185,0.406195462478185,0.5446480511925538,0.3970331588132635,0.3970331588132635,0.3744909831297266,0.3820535194880745,0.5426119837114601,0.3871436881908086,0.4534613147178592,0.4534613147178592,0.5801337987201861,0.5801337987201861,0.4297556719022688,0.4297556719022688,0.6013670738801629,0.6013670738801629,0.6595404304828388,0.6595404304828388,0.219022687609075,0.219022687609075,0.219022687609075,0.2052065154159395,0.2052065154159395,0.2052065154159395,0.2306573589296102,0.2306573589296102,0.2306573589296102,0.2207678883071553,0.2207678883071553,0.2725421756835369,0.2725421756835369,0.2316753926701571,0.2316753926701571,0.22891215823153,0.22891215823153,0.2001163467132054,0.2001163467132054,0.2510180337405468,0.2510180337405468,0.2271669575334497,0.2271669575334497,0.2236765561372891,0.2236765561372891,0.2469458987783595,0.2469458987783595,0.2329842931937173,0.2329842931937173,0.2329842931937173,0.2025887143688191,0.2025887143688191,0.2025887143688191,0.2049156486329261,0.2049156486329261,0.2049156486329261,0.2472367655613729,0.2472367655613729,0.2472367655613729,0.2121873182082606,0.2459278650378127,0.2459278650378127,0.2395287958115183,0.2395287958115183,0.2987201861547411,0.2987201861547411,0.2322571262361838,0.2322571262361838,0.2178592204770215,0.2178592204770215,0.2732693426410704,0.2732693426410704,0.2818499127399651,0.2818499127399651,0.2161140197789412,0.2161140197789412,0.2110238510762071,0.2110238510762071,0.2111692844677138,0.2111692844677138,0.2617801047120419,0.2617801047120419,0.2005526468877254,0.2510180337405468,0.2510180337405468,0.2754508435136707,0.2754508435136707,0.2089877835951134,0.2089877835951134,0.2001163467132054,0.2001163467132054,0.2277486910994764,0.2277486910994764,0.2001163467132054,0.2484002326934264,0.2484002326934264,0.2484002326934264,0.2479639325189063,0.2479639325189063,0.2479639325189063,0.2524723676556137,0.2524723676556137,0.2524723676556137,0.3647469458987784,0.3647469458987784,0.3647469458987784,0.2278941244909831,0.2278941244909831,0.2246945898778359,0.2246945898778359,0.2462187318208261,0.2462187318208261,0.242001163467132,0.242001163467132,0.242001163467132,0.2652705061082025,0.2652705061082025,0.2217859220477021,0.2217859220477021,0.2920302501454334,0.2920302501454334,0.2732693426410704,0.2732693426410704,0.2324025596276905,0.2053519488074462,0.2053519488074462,0.2540721349621873,0.2540721349621873,0.214805119255381,0.214805119255381,0.2782140779522979,0.2782140779522979,0.2553810354857475,0.2553810354857475,0.2853403141361257,0.2853403141361257,0.2515997673065736,0.2515997673065736,0.2389470622454916,0.2389470622454916,0.3122454915648633,0.3122454915648633,0.2065154159394997,0.2014252472367656,0.2885398487492729,0.2091332169866201,0.2386561954624782,0.2386561954624782,0.3019197207678883,0.251890634089587,0.251890634089587,0.3459860383944154,0.3459860383944154,0.3742001163467132,0.3742001163467132,0.2248400232693426,0.2248400232693426,0.2789412449098313,0.2322571262361838,0.2357475276323444,0.2952297847585806,0.2966841186736475,0.2966841186736475,0.2966841186736475,0.4041593949970914,0.4041593949970914,0.4041593949970914,0.4011052937754508,0.4011052937754508,0.4011052937754508,0.2329842931937173,0.2329842931937173,0.2815590459569517,0.2815590459569517,0.2815590459569517,0.3682373472949389,0.3682373472949389,0.3682373472949389,0.2319662594531705,0.2319662594531705,0.3449680046538685,0.3449680046538685,0.3749272833042466,0.3749272833042466,0.2809773123909249,0.2809773123909249,0.2809773123909249,0.3650378126817918,0.3650378126817918,0.3650378126817918,0.4474985456660849,0.4474985456660849,0.4474985456660849,0.4237929028504945,0.4237929028504945,0.4237929028504945,0.2181500872600349,0.2181500872600349,0.2181500872600349,0.2207678883071553,0.2207678883071553,0.2207678883071553,0.2207678883071553,0.2028795811518325,0.2028795811518325,0.2028795811518325,0.2028795811518325,0.233566026759744,0.233566026759744,0.233566026759744,0.2374927283304247,0.2374927283304247,0.2374927283304247,0.2159685863874345,0.2159685863874345,0.2159685863874345,0.2094240837696335,0.2094240837696335,0.2094240837696335,0.2001163467132054,0.2001163467132054,0.2001163467132054,0.2278941244909831,0.2278941244909831,0.2278941244909831,0.2278941244909831,0.2246945898778359,0.2246945898778359,0.2246945898778359,0.2246945898778359,0.2462187318208261,0.2462187318208261,0.2462187318208261,0.2462187318208261,0.2277486910994764,0.2277486910994764,0.2277486910994764,0.2277486910994764,0.2187318208260617,0.2187318208260617,0.2187318208260617,0.2116055846422339,0.2116055846422339,0.2116055846422339,0.2340023269342641,0.2340023269342641,0.2340023269342641,0.2361838278068644,0.2361838278068644,0.2361838278068644,0.2358929610238511,0.2358929610238511,0.2358929610238511,0.2486910994764398,0.2486910994764398,0.2486910994764398,0.2049156486329261,0.2049156486329261,0.2180046538685282,0.2180046538685282,0.2334205933682373,0.2334205933682373,0.2927574171029668,0.2927574171029668,0.2927574171029668,0.2927574171029668,0.218586387434555,0.218586387434555,0.2773414776032577,0.2773414776032577,0.2773414776032577,0.2773414776032577,0.2277486910994764,0.2277486910994764,0.2277486910994764,0.2774869109947644,0.2774869109947644,0.2774869109947644,0.2774869109947644],[0.6218731820826061,0.6465968586387435,0.6697207678883071,0.9128853984874927,0.8614906832298137,0.8813664596273292,0.9357060849598163,0.6146304675716441,0.9230769230769231,0.9236425339366516,0.9097625329815303,0.7477572559366754,0.7757255936675461,0.9060686015831134,0.9179035250463822,0.640074211502783,0.7476808905380334,0.9461966604823747,0.7016716673810545,0.6168024003429061,0.7466780968709815,0.9532790398628376,0.6850851682592439,0.6701287910261736,0.715828832571666,0.9418363107602825,0.6958204334365325,0.6779788838612368,0.8413312693498453,0.6486068111455109,0.7658668730650154,0.7569659442724458,0.9438854489164087,0.7296380090497737,0.6923076923076923,0.722473604826546,0.920814479638009,1,0.6837627613028683,0.6071809456096694,0.6061144685389264,0.6171347316032705,0.8915748311411305,0.6786953504510757,0.7463566967383761,0.6616932685634975,0.9156835530881332,0.6344962504075644,0.6739484838604499,0.6194978806651451,0.651450929246821,0.8982719269644603,0.610133893410344,0.6684169073247571,0.6844316093462851,0.9246521396692046,0.7313505607020966,0.6747638326585695,0.6808873720136519,0.606514657980456,0.9129692832764505,0.6635877491492465,0.6384471468662302,0.6259115216334468,0.6385512882839086,0.9069032571706368,0.6225444340505145,0.7291861552853134,0.6770901194353963,0.9328811973807296,0.6354946630555998,0.664642375168691,0.6416938110749185,0.9300494826810616,0.6587541819340449,0.9847991313789359,0.7224788911900589,0.9239263803680982,0.9365671641791045,0.6167076167076168,0.818445475638051,0.9598639455782313,0.6559739655973965,0.919953596287703,0.9237041351193943,0.6009852216748769,0.7670540677109652,0.9416873449131513,0.9469429004547751,0.9186274509803921,0.9882133995037221,0.7808823529411765,0.9615149664019548,0.7077338129496403,0.9562195969423211,0.6187050359712231,0.9908151549942594,0.7760791366906474,0.9472407519708914,0.6890163211292457,0.9535027898326101,0.678429642699603,0.9854904236796286,0.749007498897221,0.8909899888765295,0.7368905243790248,0.827906976744186,0.7747497219132369,0.7038908539666499,0.7587145969498911,0.7836484983314794,0.7203476482617587,0.7353862212943633,0.9454949944382648,0.6970069700697007,0.6961506961506961,0.9542184434270765,0.7778288868445262,0.8544719555330975,0.7575896964121435,0.8420245398773006,0.9448022079116836,0.8421484214842149,0.9528639618138425,0.6547765477654777,0.7569479535118747,0.7658486707566462,0.9494694290045478,0.7703977039770398,0.99079754601227,0.7945879458794588,0.935179358086847,0.6085176085176085,0.7498708010335917,0.7903050108932462,0.7503875968992249,0.7578288100208769,0.9302325581395349,0.7371007371007371,0.940013633265167,0.9400871459694989,0.7067977067977068,0.988517745302714,0.7755937755937756,1,0.7384378211716341,1,0.6346863468634686,1,0.7321178120617111,0.8786717752234994,0.6071809456096694,1,0.6256410256410256,0.6061144685389264,1,0.6621359223300971,0.6171347316032705,1,0.6608298439284355,0.8915748311411305,1,0.6722058429375503,0.9174473067915691,0.6248006379585327,0.906158357771261,0.6160287081339713,0.9752304147465438,0.6750398724082934,0.8507157464212679,0.7735936773593677,0.6095238095238096,0.9325153374233128,0.6911708980674498,0.7089725708972571,0.7996853696906135,0.9335192933519293,0.7608942781356575,0.9853172522286313,0.7120121258052292,0.8987626546681665,0.7255909558067831,0.683115626511853,0.8977389516957862,0.6341197822141561,0.7145621673923561,0.7392392392392393,0.9254958877600387,0.6943738656987296,0.9242105263157895,0.6373865698729583,0.9819819819819819,0.7121597096188748,0.7444061962134251,0.6794972505891594,0.7069707401032702,0.6302263137706176,0.9238382099827883,0.6095968199886428,0.6549815498154982,0.6388376383763837,0.915129151291513,0.6509732910819376,0.7428700769578995,0.6294591484464902,0.939791760977818,0.6802827965435978,0.6643651706942846,0.934406912804399,0.6754684838160137,0.986958189489835,0.7305508233957978,0.7227676484338476,0.6003883495145631,0.8966806919121084,0.7366236162361623,0.7476937269372693,0.9363468634686347,0.68,0.7303974221267454,0.6903553299492385,0.9263333333333333,0.7420560747663552,0.6720677146311971,0.9874686716791979,0.7364485981308411,0.6081587651598677,0.6221359223300971,0.6018031555221638,0.7091575091575092,0.7369623144271031,0.6209108402822322,0.9274725274725275,0.6786384347359957,0.6347455502632239,0.6194174757281553,0.6071564522268748,0.9211650485436893,0.635754489413026,0.9813475447278264,0.6909675690163495,0.7257700976709242,0.6196279666452854,0.6538071065989848,0.9429000751314801,0.6292303835547757,0.6070133010882709,0.9868505452212957,0.7713712709952369,0.6785005512679162,0.9861252115059221,0.7047158403869408,0.6425578831312018,0.9881422924901185,0.80042689434365,0.9416195856873822,0.947565543071161,0.8929411764705882,0.73904576436222,0.8433333333333334,0.9900638750887154,0.8205882352941176,0.7198142414860681,0.7365364308342133,0.9497338852749853,0.7818889970788705,0.854709952102182,0.9914996964177292,0.7950340798442064,0.8426212590299278,0.9913217623497997,0.7903139968068121,0.7662538699690402,0.9917355371900827,0.8,0.7602956705385427,0.8786717752234994,1,0.7174139728884255,0.9174473067915691,0.6248006379585327,1,0.6188783570300158,0.906158357771261,0.6160287081339713,1,0.6513490725126475,0.9752304147465438,0.6750398724082934,1,0.656710628394104,0.9411057692307693,0.8585526315789473,0.7798804780876494,0.6184834123222749,0.9862295081967213,0.749003984063745,0.8004257583821182,0.9851049424509141,0.7605854678515421,0.7415902140672783,0.9300578034682081,0.7494177922682813,0.6763345943673813,0.9884357881923311,0.7564042850489054,0.6311698406529344,0.9884216940889702,0.7813102119460501,0.6303925378935096,0.9872979214780601,0.7187894073139974,0.6645938593082006,0.9113842173350583,0.7346193952033369,0.9386349405134627,0.738423645320197,0.9901295496607033,0.7906403940886699,0.986764705882353,0.724361281036344,0.7298767222625091,0.6908030199039121,0.9382022471910112,0.6336424957841484,0.9850206611570248,0.7531595576619273,0.7397207137315749,0.6197595060123496,0.9818181818181818,0.6602023608768971,0.6074476338246703,0.9875776397515528,0.7601593625498008,0.6200844978875528,0.6547700754975978],[1,1,1,1,0.2341477603257708,0.2341477603257708,0.2533449680046539,0.3856893542757417,0.2533449680046538,0.2571262361838278,0.2755962769051774,0.2755962769051775,0.2755962769051775,0.2755962769051775,0.3135543920884236,0.3135543920884235,0.3135543920884235,0.3135543920884235,0.3392961023851076,0.3392961023851076,0.3392961023851077,0.3392961023851077,0.3500581733566026,0.3500581733566027,0.3500581733566027,0.3500581733566027,0.3757998836532868,0.3856893542757417,0.3757998836532868,0.3757998836532868,0.3757998836532869,0.3757998836532868,0.3757998836532868,0.3856893542757417,0.3856893542757417,0.3856893542757417,0.3856893542757417,0.4091041303083188,0.5983129726585223,0.4091041303083188,0.4091041303083188,0.4091041303083188,0.4091041303083188,0.4191390343222804,0.4191390343222804,0.4191390343222804,0.4191390343222804,0.446044211751018,0.4460442117510181,0.446044211751018,0.446044211751018,0.446044211751018,0.553955788248982,0.5539557882489821,0.553955788248982,0.553955788248982,0.5965677719604421,0.6465968586387434,0.5965677719604421,0.6697207678883071,0.5965677719604421,0.5983129726585223,0.6218731820826061,0.5983129726585223,0.5983129726585225,0.5983129726585225,0.6218731820826062,0.6218731820826061,0.6697207678883071,0.6218731820826061,0.9128853984874927,0.6465968586387435,0.6697207678883073,0.6465968586387435,0.9128853984874927,0.6697207678883071,0.9128853984874927,0.2370564281559046,0.2338568935427574,0.3551483420593368,0.2507271669575334,0.2137870855148342,0.3128272251308901,0.2507271669575334,0.2497091332169866,0.3837987201861547,0.2878126817917394,0.2344386271087842,0.2878126817917394,0.2966841186736475,0.2344386271087842,0.2966841186736475,0.2380744618964514,0.3234438627108784,0.2092786503781268,0.3234438627108784,0.2533449680046539,0.3234438627108784,0.2398196625945317,0.329697498545666,0.2345840605002909,0.329697498545666,0.2505817335660268,0.3296974985456661,0.2614892379290285,0.316172193135544,0.2814136125654451,0.2614892379290285,0.2878126817917394,0.2670157068062827,0.2614892379290285,0.2844677137870855,0.2786503781268179,0.2614892379290285,0.3547120418848168,0.3551483420593368,0.2223676556137289,0.316172193135544,0.2878126817917394,0.3161721931355439,0.2844677137870855,0.3161721931355439,0.3547120418848167,0.2437463641652123,0.3547120418848168,0.2878126817917394,0.2844677137870855,0.2878126817917394,0.3547120418848168,0.2844677137870855,0.3547120418848167,0.2310936591041303,0.3551483420593368,0.2814136125654451,0.2670157068062827,0.281413612565445,0.2786503781268179,0.281413612565445,0.3551483420593368,0.2133507853403142,0.2670157068062827,0.3551483420593368,0.2786503781268179,0.3551483420593368,0.2089877835951134,0.2830133798720186,0.2001163467132054,0.3152995927865038,0.2277486910994764,0.3110820244328097,0.2277486910994764,0.4091041303083188,0.2484002326934264,0.3970331588132635,0.4091041303083188,0.2479639325189063,0.3744909831297266,0.4091041303083188,0.2524723676556137,0.3820535194880744,0.4091041303083188,0.3647469458987784,0.5426119837114601,0.2484002326934264,0.3647469458987783,0.2479639325189063,0.3647469458987784,0.2524723676556137,0.3647469458987784,0.2844677137870855,0.3128272251308901,0.3970331588132635,0.2844677137870856,0.3837987201861547,0.3128272251308901,0.2773414776032577,0.3128272251308901,0.3837987201861547,0.2773414776032577,0.3837987201861547,0.2585805700988947,0.2830133798720186,0.3006108202443281,0.2830133798720186,0.4006689936009308,0.3006108202443281,0.2905759162303665,0.3006108202443281,0.4006689936009308,0.2763234438627109,0.4006689936009308,0.2905759162303665,0.4006689936009308,0.3379872018615474,0.3702734147760326,0.3379872018615474,0.3791448516579407,0.3379872018615474,0.5122164048865619,0.3152995927865038,0.3152995927865038,0.3152995927865038,0.3212623618382781,0.3212623618382781,0.3791448516579407,0.3212623618382781,0.3702734147760325,0.3791448516579407,0.3702734147760326,0.5122164048865619,0.3791448516579407,0.5122164048865619,0.3110820244328098,0.3744909831297266,0.3110820244328098,0.3152995927865038,0.3152995927865038,0.3152995927865038,0.4363001745200698,0.406195462478185,0.4297556719022688,0.4363001745200698,0.5446480511925539,0.601367073880163,0.406195462478185,0.5446480511925539,0.6595404304828389,0.3744909831297266,0.3871436881908086,0.3970331588132635,0.3820535194880744,0.4534613147178592,0.3970331588132635,0.5426119837114601,0.5801337987201861,0.3744909831297266,0.3820535194880745,0.3744909831297266,0.5426119837114601,0.3820535194880745,0.5426119837114601,0.3871436881908086,0.4534613147178592,0.4297556719022687,0.3871436881908086,0.5801337987201861,0.6013670738801629,0.4534613147178592,0.5801337987201861,0.6595404304828388,0.4297556719022688,0.6013670738801629,0.6595404304828388,0.2207678883071553,0.2725421756835369,0.2316753926701571,0.2329842931937173,0.2472367655613729,0.2987201861547412,0.2617801047120419,0.2049156486329261,0.2472367655613729,0.2818499127399651,0.2754508435136708,0.2459278650378127,0.2987201861547411,0.2732693426410704,0.2395287958115183,0.2987201861547412,0.2818499127399651,0.2178592204770215,0.2732693426410704,0.2818499127399651,0.2111692844677138,0.2617801047120419,0.2754508435136707,0.2277486910994764,0.2001163467132054,0.2789412449098313,0.2484002326934264,0.3647469458987783,0.2278941244909831,0.3682373472949389,0.2479639325189063,0.3647469458987784,0.2246945898778359,0.3449680046538686,0.2524723676556137,0.3647469458987784,0.2462187318208261,0.3749272833042466,0.242001163467132,0.2652705061082025,0.2920302501454334,0.3682373472949389,0.2217859220477021,0.2920302501454334,0.2732693426410704,0.214805119255381,0.2782140779522979,0.2853403141361257,0.2515997673065736,0.3122454915648633,0.3459860383944153,0.2389470622454916,0.3122454915648633,0.3742001163467132,0.2386561954624782,0.3019197207678883,0.3742001163467132,0.251890634089587,0.3459860383944154,0.3742001163467132,0.2248400232693426,0.2789412449098312,0.2322571262361838,0.2952297847585806,0.2357475276323444,0.2952297847585806,0.2966841186736474,0.4041593949970913,0.4011052937754508,0.4237929028504945,0.2329842931937173,0.3449680046538685,0.2815590459569517,0.368237347294939,0.3749272833042467,0.447498545666085,0.2319662594531704,0.3449680046538685,0.3749272833042466,0.280977312390925,0.3650378126817918,0.4474985456660849,0.4237929028504945],[1,1,1,1,1.439866295062761,0.9654732796554907,2.426061478198981,2.426061478198981,1.011164078871583,1.011783664704224,2.170550720604095,1.24977610399139,1.247401586075315,0.9925326914904393,1.476030083774304,0.989912343295802,1.116406906262653,1.03649008084703,1.128319547453726,0.9539211211780978,1.114909575262729,1.044248315771367,1.101647712102563,1.03639351486639,1.068846699839908,1.031713632752542,1.804095512937254,1.804095512937254,1.410286155058395,1.042988875920611,1.184458078991238,1.130270973467391,1.033958315556671,1.223059714828436,1.070694487698536,1.078768405382699,1.008685735541015,1.671366067087992,1.671366067087992,0.9763742240439865,0.9373916072140481,0.9214806546154372,0.9766558131155668,1.134348378634321,1.200175081097538,0.988013662245952,1.003065176204238,1.060475502625769,1.083739423532379,0.9580898397331394,0.9727202148753835,0.9839919977389883,1.022740285492327,1.033745986226952,1.021965634281228,1.012889614842353,1.131076575660732,1.131076575660732,1.016673522251003,1.016673522251003,1.000091889725804,1.067078896901361,1.067078896901361,0.9680089119999056,0.9534589920174062,0.9934469963844669,0.9628015133898646,1.088791314601914,1.088791314601914,1.02190395303328,1.02190395303328,0.9924171491118173,0.9924171491118172,1.018802014165203,1.018802014165203,1.078776298767176,1.078776298767176,1.012094597962569,2.428294050111434,2.434260374558882,1.316097074482516,2.290084833378181,2.380198937967124,1.007742700027759,2.203813196766466,2.180672498277812,1.145334151917611,1.514275534055853,1.037307532822532,1.477194189181753,1.082516382824214,1.16598198888676,1.053270178266662,1.138067749729122,1.047469483602899,0.9568636588704746,1.085366417992756,1.158810020387599,1.037633807639294,1.107969182433277,1.04449341769779,1.049231269276309,1.079533559538175,1.118387744281714,1.493526856049492,1.910580409362811,2.203052775577795,1.198195926197799,1.825020177931631,2.018932495598859,1.170112285456515,1.867688698886822,1.956855904651719,1.035721456389598,1.807171917873025,1.852450536661063,1.045277364506066,1.202958035524733,1.432313302351433,1.131202334968491,1.41144825358272,1.034962558802093,1.411655910805817,1.043793627757206,1.052910089437658,1.130244110390369,1.184429928052789,1.040075162312454,1.191465274976637,1.085347128625198,1.186446626681251,1.024421422049571,1.098494900542682,1.159719214553976,1.3247531094349,1.120448450874934,1.270314699586433,1.019002560103145,1.235569153657891,1.029717021241244,1.029797549097702,1.093104145735725,1.082849771658668,1.158085298801911,1.671366067087992,1.805011894196998,1.671366067087992,1.551405375411735,1.671366067087992,1.789563482309394,0.9625214475763552,0.9763742240439865,1.671366067087992,1.529295304766332,0.9373916072140481,1.671366067087992,1.618502169193654,0.9214806546154372,1.671366067087992,1.615309636278678,0.9766558131155668,1.671366067087992,1.643116735171914,1.00499724095887,1.004707480496462,0.9926310129098599,0.9527245607578017,1.068294461015969,1.007942272025934,1.367989118894443,1.292958222052264,1.454228214533558,1.021503179882539,1.155199585588669,1.058609206838119,1.285929981756936,1.022602941068642,1.22355216474761,1.079343862724879,1.063147747456407,0.9845295544843576,1.166782837260861,1.141736278049466,0.9834081618384939,1.059846286461968,1.066955366555883,1.188729889852435,1.013813879916843,1.116584354664281,1.012405859319319,0.9857557477387452,1.07569031513591,1.063368113645903,1.151267882402949,1.139010993430293,1.055620153952245,1.056420315330757,1.011998013675586,1.021840013223283,1.012967417123564,0.953886558409558,1.0024578690904,1.006768409689474,1.109223593737789,1.012198574536498,1.029473976180258,1.015770794578454,1.027479737672942,1.023575264050191,1.044651663229624,1.081141390940275,1.090828981904344,1.117802597982712,1.006404264081457,0.9822489147025104,1.139231665596008,1.116426073055519,1.025700339845521,1.015348534201954,1.129602490900473,1.157211908515593,1.014731241038713,1.14763328162246,1.126557193028794,1.081700587297461,1.099635300922402,1.019429465928632,1.000422498115469,1.005833373206222,1.058885349178509,1.185068492516548,1.037769309134815,1.015979145913828,1.091281075127387,1.060892173945048,0.9248891559406722,0.9390030961565431,1.009069758449324,0.9832316394970687,1.074995334960735,1.031724865267409,1.08369059534968,0.9582910253380528,1.051351184512306,1.032878909766458,0.9731417267932158,0.9761046441260409,1.081023474421161,1.151780425486048,1.091059352319502,1.080228923739799,1.052253228773204,0.9937534872717372,1.082438490228143,1.195165108687717,1.514166574178307,1.037989592824168,1.496797544956549,1.916168429771729,2.244102167182663,1.08454344513462,1.225269208660663,1.866305703038538,1.959916601554199,1.04036485505031,1.209237234348699,1.432712245405803,1.086116283665494,1.187112775897669,1.412448507335393,1.085921369749438,1.180064938554537,1.185056592421754,1.086374630192609,1.194527687296417,1.274449788060219,0.9625214475763552,1.671366067087992,1.753621925908572,1.00499724095887,1.004707480496462,1.671366067087992,1.512764871289865,0.9926310129098599,0.9527245607578017,1.671366067087992,1.592135166227147,1.068294461015969,1.007942272025934,1.671366067087992,1.605240768161343,1.030913377287043,1.380591182118064,1.303465767460058,1.475604421626635,1.080343173229354,1.118382496074334,1.287120560017644,1.079111292702324,1.135675499879957,1.192510362938869,1.018811128986363,1.159018609904791,1.133709573590959,1.082759993565472,1.129432326600711,1.058001907442608,1.082744554493509,1.166620850671236,1.01369950667815,1.081513542788457,1.07326731046494,1.027833418039403,0.9983555645046776,1.136132020112043,1.028206762939393,1.142015516244191,1.084615386883383,1.180552301792333,1.080929443627061,1.081587007254267,1.12879719799303,1.157962351257752,1.027732778665827,1.018925584895183,1.079018968634013,1.124587430723868,1.189504122455171,1.035845008104258,1.075510883890683,0.9857874991073929,0.9394534255911904,1.081819953948013,1.135039256654165,0.9589970777046364,1.05289968174029],[4276,4446,4605,6277,1387,1419,1630,1630,1608,1633,1724,1417,1470,1717,1979,1380,1612,2040,1637,1439,1742,2224,1649,1613,1723,2267,1798,1798,2174,1676,1979,1956,2439,1935,1836,1916,2442,2813,2813,1708,1705,1736,2508,1956,2151,1907,2639,1946,2067,1900,1998,2755,2324,2546,2607,3522,3000,3000,2793,2793,3745,2730,2730,2575,2627,3731,2662,3118,3118,3989,3989,2955,2955,4135,4135,4535,4535,1506,1506,1506,1411,1411,1411,1586,1586,1586,1518,1518,1874,1874,1593,1593,1574,1574,1376,1376,1726,1726,1562,1562,1538,1538,1698,1698,1602,1602,1602,1393,1393,1393,1409,1409,1409,1700,1700,1700,1459,1691,1691,1647,1647,2054,2054,1597,1597,1498,1498,1879,1879,1938,1938,1486,1486,1451,1451,1452,1452,1800,1800,1379,1726,1726,1894,1894,1437,1437,1376,1376,1566,1566,1376,1708,1708,1708,1705,1705,1705,1736,1736,1736,2508,2508,2508,1567,1567,1545,1545,1693,1693,1664,1664,1664,1824,1824,1525,1525,2008,2008,1879,1879,1598,1412,1412,1747,1747,1477,1477,1913,1913,1756,1756,1962,1962,1730,1730,1643,1643,2147,2147,1420,1385,1984,1438,1641,1641,2076,1732,1732,2379,2379,2573,2573,1546,1546,1918,1597,1621,2030,2040,2040,2040,2779,2779,2779,2758,2758,2758,1602,1602,1936,1936,1936,2532,2532,2532,1595,1595,2372,2372,2578,2578,1932,1932,1932,2510,2510,2510,3077,3077,3077,2914,2914,2914,1500,1500,1500,1518,1518,1518,1518,1395,1395,1395,1395,1606,1606,1606,1633,1633,1633,1485,1485,1485,1440,1440,1440,1376,1376,1376,1567,1567,1567,1567,1545,1545,1545,1545,1693,1693,1693,1693,1566,1566,1566,1566,1504,1504,1504,1455,1455,1455,1609,1609,1609,1624,1624,1624,1622,1622,1622,1710,1710,1710,1409,1409,1499,1499,1605,1605,2013,2013,2013,2013,1503,1503,1907,1907,1907,1907,1566,1566,1566,1908,1908,1908,1908]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>coverage<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render"],"jsHooks":[]}</script>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="association-rule.html#cb98-1" tabindex="-1"></a><span class="fu">plot</span>(rules, <span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;confidence&quot;</span>,<span class="st">&quot;lift&quot;</span>), <span class="at">shading=</span><span class="st">&quot;support&quot;</span>)<span class="sc">+</span></span>
<span id="cb98-2"><a href="association-rule.html#cb98-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-49-2.png" width="1152" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="association-rule.html#cb99-1" tabindex="-1"></a><span class="fu">plot</span>(rules, <span class="at">method=</span><span class="st">&quot;grouped&quot;</span>, <span class="at">control=</span><span class="fu">list</span>(<span class="at">k=</span><span class="dv">10</span>))</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-50-1.png" width="1152" style="display: block; margin: auto;" /></p>
<div id="check-only-rhs-is-householder.statusown" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Check only RHS is “householder.status=own”<a href="association-rule.html#check-only-rhs-is-householder.statusown" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="association-rule.html#cb100-1" tabindex="-1"></a>rulesOwned <span class="ot">&lt;-</span> <span class="fu">subset</span>(rules,<span class="at">subset=</span> rhs <span class="sc">%in%</span> <span class="st">&quot;householder.status=own&quot;</span> <span class="sc">&amp;</span> lift<span class="sc">&gt;</span><span class="dv">1</span>)</span>
<span id="cb100-2"><a href="association-rule.html#cb100-2" tabindex="-1"></a><span class="fu">DATAFRAME</span>(<span class="fu">head</span>(<span class="fu">sort</span>(rulesOwned,<span class="at">by=</span><span class="st">&quot;support&quot;</span>),<span class="at">n=</span><span class="dv">5</span>)) <span class="sc">|&gt;</span> <span class="fu">format</span>(<span class="at">digits=</span><span class="dv">2</span>) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="2%" />
<col width="50%" />
<col width="18%" />
<col width="5%" />
<col width="8%" />
<col width="6%" />
<col width="3%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">LHS</th>
<th align="left">RHS</th>
<th align="left">support</th>
<th align="left">confidence</th>
<th align="left">coverage</th>
<th align="left">lift</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">28</td>
<td align="left">{marital.status=married}</td>
<td align="left">{householder.status=own}</td>
<td align="left">0.26</td>
<td align="left">0.68</td>
<td align="left">0.39</td>
<td align="left">1.8</td>
<td align="left">1798</td>
</tr>
<tr class="even">
<td align="left">116</td>
<td align="left">{marital.status=married,language.in.home=english}</td>
<td align="left">{householder.status=own}</td>
<td align="left">0.25</td>
<td align="left">0.70</td>
<td align="left">0.36</td>
<td align="left">1.9</td>
<td align="left">1700</td>
</tr>
<tr class="odd">
<td align="left">107</td>
<td align="left">{marital.status=married,type.of.home=house}</td>
<td align="left">{householder.status=own}</td>
<td align="left">0.23</td>
<td align="left">0.83</td>
<td align="left">0.28</td>
<td align="left">2.2</td>
<td align="left">1602</td>
</tr>
<tr class="even">
<td align="left">260</td>
<td align="left">{marital.status=married,type.of.home=house,language.in.home=english}</td>
<td align="left">{householder.status=own}</td>
<td align="left">0.22</td>
<td align="left">0.84</td>
<td align="left">0.26</td>
<td align="left">2.2</td>
<td align="left">1518</td>
</tr>
<tr class="odd">
<td align="left">113</td>
<td align="left">{marital.status=married,ethnic.classification=white}</td>
<td align="left">{householder.status=own}</td>
<td align="left">0.20</td>
<td align="left">0.74</td>
<td align="left">0.28</td>
<td align="left">2.0</td>
<td align="left">1409</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="association-rule.html#cb101-1" tabindex="-1"></a><span class="fu">plot</span>(rulesOwned,<span class="at">method=</span><span class="st">&quot;grouped&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-52-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="處理多餘規則-example-groceries" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> [處理多餘規則] Example: Groceries<a href="association-rule.html#處理多餘規則-example-groceries" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="基本處理" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> 基本處理<a href="association-rule.html#基本處理" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>觀察資料</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="association-rule.html#cb102-1" tabindex="-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb102-2"><a href="association-rule.html#cb102-2" tabindex="-1"></a><span class="fu">library</span>(arulesViz)</span>
<span id="cb102-3"><a href="association-rule.html#cb102-3" tabindex="-1"></a><span class="fu">data</span>(Groceries)</span>
<span id="cb102-4"><a href="association-rule.html#cb102-4" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(Groceries,<span class="at">topN=</span><span class="dv">20</span>)</span></code></pre></div>
<p><img src="bookdown-RS_files/figure-html/unnamed-chunk-53-1.png" width="1152" style="display: block; margin: auto;" /></p>
<p>取得規則</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="association-rule.html#cb103-1" tabindex="-1"></a>rules1 <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Groceries, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.001</span>, <span class="at">conf =</span> <span class="fl">0.8</span>))</span></code></pre></div>
<p>顯示前5個規則，小數點取到第2位</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="association-rule.html#cb104-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb104-2"><a href="association-rule.html#cb104-2" tabindex="-1"></a><span class="fu">DATAFRAME</span>(rules1[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">separate=</span>F) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="51%" />
<col width="9%" />
<col width="13%" />
<col width="11%" />
<col width="6%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">rule</th>
<th align="right">support</th>
<th align="right">confidence</th>
<th align="right">coverage</th>
<th align="right">lift</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">{liquor,red/blush wine} =&gt; {bottled beer}</td>
<td align="right">0</td>
<td align="right">0.90</td>
<td align="right">0</td>
<td align="right">11.2</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">{curd,cereals} =&gt; {whole milk}</td>
<td align="right">0</td>
<td align="right">0.91</td>
<td align="right">0</td>
<td align="right">3.6</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">{yogurt,cereals} =&gt; {whole milk}</td>
<td align="right">0</td>
<td align="right">0.81</td>
<td align="right">0</td>
<td align="right">3.2</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">{butter,jam} =&gt; {whole milk}</td>
<td align="right">0</td>
<td align="right">0.83</td>
<td align="right">0</td>
<td align="right">3.3</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">{soups,bottled beer} =&gt; {whole milk}</td>
<td align="right">0</td>
<td align="right">0.92</td>
<td align="right">0</td>
<td align="right">3.6</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<p>根據信賴度排序，由高到低</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="association-rule.html#cb105-1" tabindex="-1"></a>rules1 <span class="ot">&lt;-</span> <span class="fu">sort</span>(rules1, <span class="at">by=</span><span class="st">&quot;confidence&quot;</span>, <span class="at">decreasing=</span><span class="cn">TRUE</span>)</span>
<span id="cb105-2"><a href="association-rule.html#cb105-2" tabindex="-1"></a><span class="fu">DATAFRAME</span>(rules[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">separate=</span>F) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">&quot;Rules with top 5 highest confidence&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:groceries-tab1">Table 3.1: </span>Rules with top 5 highest confidence</caption>
<colgroup>
<col width="51%" />
<col width="9%" />
<col width="13%" />
<col width="11%" />
<col width="6%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">rule</th>
<th align="right">support</th>
<th align="right">confidence</th>
<th align="right">coverage</th>
<th align="right">lift</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">{} =&gt; {number.of.children=0}</td>
<td align="right">0.62</td>
<td align="right">0.62</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4276</td>
</tr>
<tr class="even">
<td align="left">{} =&gt; {years.in.bay.area=&gt;10}</td>
<td align="right">0.65</td>
<td align="right">0.65</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4446</td>
</tr>
<tr class="odd">
<td align="left">{} =&gt; {ethnic.classification=white}</td>
<td align="right">0.67</td>
<td align="right">0.67</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4605</td>
</tr>
<tr class="even">
<td align="left">{} =&gt; {language.in.home=english}</td>
<td align="right">0.91</td>
<td align="right">0.91</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">6277</td>
</tr>
<tr class="odd">
<td align="left">{age=18-24} =&gt; {dual.incomes=not married}</td>
<td align="right">0.20</td>
<td align="right">0.86</td>
<td align="right">0.23</td>
<td align="right">1.4</td>
<td align="right">1387</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="處理冗贅的規則" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> 處理冗贅的規則<a href="association-rule.html#處理冗贅的規則" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>較長的規則</li>
</ol>
<p>從表<a href="association-rule.html#tab:groceries-tab1">3.1</a>可以看到後面幾個規則比較長，我們可以設定<code>maxlen</code>來<strong>限制規則的長度</strong></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="association-rule.html#cb106-1" tabindex="-1"></a>rules2 <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Groceries, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.001</span>, <span class="at">conf =</span> <span class="fl">0.8</span>,<span class="at">maxlen=</span><span class="dv">3</span>))</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="association-rule.html#cb107-1" tabindex="-1"></a>rules2 <span class="ot">&lt;-</span> <span class="fu">sort</span>(rules2, <span class="at">by=</span><span class="st">&quot;confidence&quot;</span>, <span class="at">decreasing=</span><span class="cn">TRUE</span>)</span>
<span id="cb107-2"><a href="association-rule.html#cb107-2" tabindex="-1"></a><span class="fu">DATAFRAME</span>(rules[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">separate=</span>F) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="51%" />
<col width="9%" />
<col width="13%" />
<col width="11%" />
<col width="6%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">rule</th>
<th align="right">support</th>
<th align="right">confidence</th>
<th align="right">coverage</th>
<th align="right">lift</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">{} =&gt; {number.of.children=0}</td>
<td align="right">0.62</td>
<td align="right">0.62</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4276</td>
</tr>
<tr class="even">
<td align="left">{} =&gt; {years.in.bay.area=&gt;10}</td>
<td align="right">0.65</td>
<td align="right">0.65</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4446</td>
</tr>
<tr class="odd">
<td align="left">{} =&gt; {ethnic.classification=white}</td>
<td align="right">0.67</td>
<td align="right">0.67</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">4605</td>
</tr>
<tr class="even">
<td align="left">{} =&gt; {language.in.home=english}</td>
<td align="right">0.91</td>
<td align="right">0.91</td>
<td align="right">1.00</td>
<td align="right">1.0</td>
<td align="right">6277</td>
</tr>
<tr class="odd">
<td align="left">{age=18-24} =&gt; {dual.incomes=not married}</td>
<td align="right">0.20</td>
<td align="right">0.86</td>
<td align="right">0.23</td>
<td align="right">1.4</td>
<td align="right">1387</td>
</tr>
</tbody>
</table>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>多餘的規則</li>
</ol>
<p>有時候規則會<strong>重複</strong>，下面顯示的兩個規則差別在第2個規則多了”tropical fruit”，但規則2的 lift <span class="math inline">\(\leq\)</span> 規則1的 lift，表示加入”tropical fruit”對預測的提升沒有幫助，則這條規則是多餘的</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="association-rule.html#cb108-1" tabindex="-1"></a>rules3 <span class="ot">&lt;-</span> <span class="fu">sort</span>(rules1, <span class="at">by=</span><span class="st">&quot;lift&quot;</span>)</span>
<span id="cb108-2"><a href="association-rule.html#cb108-2" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb108-3"><a href="association-rule.html#cb108-3" tabindex="-1"></a><span class="fu">subset</span>(rules3, <span class="at">subset=</span>rhs <span class="sc">%in%</span> <span class="st">&quot;whole milk&quot;</span> <span class="sc">&amp;</span> lift<span class="sc">&gt;</span><span class="fl">3.7</span>)[<span class="fu">c</span>(<span class="dv">13</span>,<span class="dv">20</span>)] <span class="sc">|&gt;</span> </span>
<span id="cb108-4"><a href="association-rule.html#cb108-4" tabindex="-1"></a>  <span class="fu">inspect</span>(<span class="at">linebreak =</span> T) </span></code></pre></div>
<pre><code>##     lhs                    rhs          support confidence coverage lift count
## [1] {root vegetables,                                                         
##      other vegetables,                                                        
##      yogurt,                                                                  
##      oil}               =&gt; {whole milk}  0.0014          1   0.0014  3.9    14
## [2] {tropical fruit,                                                          
##      root vegetables,                                                         
##      other vegetables,                                                        
##      yogurt,                                                                  
##      oil}               =&gt; {whole milk}  0.0010          1   0.0010  3.9    10</code></pre>
<p>可以用<code>is.subset(x,y)</code>判斷，x的項目如果是y項目的子集，就會回串TRUE。為了方便呈現整體因此先隱藏行列的名稱</p>
<p><strong>主對角線皆為T</strong>，因為自己是自己的子集。
從下面的結果可以看到，在(12,20)和(13,20)處是T，表示第12, 13列的項目是第20行的子集。
詳細內容見表<a href="association-rule.html#tab:groceries-tab2">3.2</a></p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="association-rule.html#cb110-1" tabindex="-1"></a>rules4 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rules3, <span class="at">subset=</span>rhs <span class="sc">%in%</span> <span class="st">&quot;whole milk&quot;</span> <span class="sc">&amp;</span> lift<span class="sc">&gt;</span><span class="fl">3.7</span>)</span>
<span id="cb110-2"><a href="association-rule.html#cb110-2" tabindex="-1"></a>subset.matrix <span class="ot">&lt;-</span> <span class="fu">is.subset</span>(rules4, rules4)</span>
<span id="cb110-3"><a href="association-rule.html#cb110-3" tabindex="-1"></a>subset.matrix1 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(subset.matrix)</span>
<span id="cb110-4"><a href="association-rule.html#cb110-4" tabindex="-1"></a>subset.matrix <span class="sc">|&gt;</span> <span class="fu">unname</span>()</span></code></pre></div>
<pre><code>## 20 x 20 sparse Matrix of class &quot;ngCMatrix&quot;
##                                              
##  [1,] | . . . . . . . . . . . . . . . . . . .
##  [2,] . | . . . . . . . . . . . . . . . . . .
##  [3,] . . | . . . . . . . . . . . . . . . . .
##  [4,] . . . | . . . . . . . . . . . . . . . .
##  [5,] . . . . | . . . . . . . . . . . . . . .
##  [6,] . . . . . | . . . . . . . . . . . . . .
##  [7,] . . . . . . | . . . . . . . . . . . . .
##  [8,] . . . . . . . | . . . . . . . . . . . .
##  [9,] . . . . . . . . | . . . . . . . . . . .
## [10,] . . . . . . . . . | . . . . . . . . . .
## [11,] . . . . . . . . . . | . . . . . . . . .
## [12,] . . . . . . . . . . . | . . . . . . . |
## [13,] . . . . . . . . . . . . | . . . . . . |
## [14,] . . . . . . . . . . . . . | . . . . . .
## [15,] . . . . . . . . . . . . . . | . . . . .
## [16,] . . . . . . . . . . . . . . . | . . . .
## [17,] . . . . . . . . . . . . . . . . | . . .
## [18,] . . . . . . . . . . . . . . . . . | . .
## [19,] . . . . . . . . . . . . . . . . . . | .
## [20,] . . . . . . . . . . . . . . . . . . . |</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="association-rule.html#cb112-1" tabindex="-1"></a>target <span class="ot">&lt;-</span> subset.matrix1[<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">13</span>),<span class="dv">20</span>] <span class="sc">|&gt;</span> <span class="fu">matrix</span>(<span class="at">nrow=</span><span class="dv">2</span>)</span>
<span id="cb112-2"><a href="association-rule.html#cb112-2" tabindex="-1"></a><span class="fu">colnames</span>(target) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(subset.matrix1)[<span class="dv">20</span>]</span>
<span id="cb112-3"><a href="association-rule.html#cb112-3" tabindex="-1"></a><span class="fu">rownames</span>(target) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(subset.matrix1)[<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">13</span>)]</span>
<span id="cb112-4"><a href="association-rule.html#cb112-4" tabindex="-1"></a>target <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">emphasize.rownames=</span>F, <span class="at">caption=</span><span class="st">&quot;Redudant rules&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:groceries-tab2">Table 3.2: </span>Redudant rules</caption>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">{tropical fruit,root vegetables,other vegetables,whole milk,yogurt,oil}</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">{tropical fruit,root vegetables,whole milk,yogurt,oil}</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">{root vegetables,other vegetables,whole milk,yogurt,oil}</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>移除下三角的矩陣，<strong>包含對角線</strong></p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="association-rule.html#cb113-1" tabindex="-1"></a>subset.matrix1[<span class="fu">lower.tri</span>(subset.matrix1, <span class="at">diag=</span>T)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb113-2"><a href="association-rule.html#cb113-2" tabindex="-1"></a>subset.matrix1[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">|&gt;</span> <span class="fu">unname</span>()</span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3]  [,4]  [,5]
## [1,]   NA FALSE FALSE FALSE FALSE
## [2,]   NA    NA FALSE FALSE FALSE
## [3,]   NA    NA    NA FALSE FALSE
## [4,]   NA    NA    NA    NA FALSE
## [5,]   NA    NA    NA    NA    NA</code></pre>
<p>計算每行中TRUE的個數，如果有一個(含)以上，表示它是多餘的規則
從表<a href="association-rule.html#tab:groceries-tab2">3.2</a>可以看到{tropical fruit,root vegetables,other vegetables,whole milk,yogurt,oil}，有兩個TRUE，表示它有其它的子集，因此它是多餘的</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="association-rule.html#cb115-1" tabindex="-1"></a>redundant <span class="ot">&lt;-</span> <span class="fu">colSums</span>(subset.matrix1, <span class="at">na.rm=</span>T) <span class="sc">&gt;=</span> <span class="dv">1</span></span>
<span id="cb115-2"><a href="association-rule.html#cb115-2" tabindex="-1"></a><span class="fu">sum</span>(redundant)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>我們發現了1條多餘的規則，移除它並檢查是否有成功</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="association-rule.html#cb117-1" tabindex="-1"></a>rules.pruned <span class="ot">&lt;-</span> rules4[<span class="sc">!</span>redundant]</span>
<span id="cb117-2"><a href="association-rule.html#cb117-2" tabindex="-1"></a><span class="fu">summary</span>(rules4)<span class="sc">@</span>lengths</span></code></pre></div>
<pre><code>## sizes
## 3 4 5 6 
## 2 9 8 1</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="association-rule.html#cb119-1" tabindex="-1"></a><span class="fu">summary</span>(rules.pruned)<span class="sc">@</span>lengths</span></code></pre></div>
<pre><code>## sizes
## 3 4 5 
## 2 9 8</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="self-learning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="self-learning-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
